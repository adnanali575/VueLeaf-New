{"version":3,"file":"Competitors-CG6RcbSJ.js","sources":["../../src/components/ui/avatar/Avatar.vue","../../src/components/ui/avatar/AvatarFallback.vue","../../src/components/ui/popover/Popover.vue","../../src/components/ui/popover/PopoverContent.vue","../../src/components/ui/popover/PopoverTrigger.vue","../../src/services/competitors.ts","../../src/stores/competitors.ts","../../src/components/dashboard/CompetitorTabs.vue","../../src/components/dashboard/ForumMetricRow.vue","../../src/components/dashboard/ForumMetrics.vue","../../src/views/dashboard/Competitors.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst props = defineProps<{\r\n  class?: string\r\n}>()\r\n\r\nconst classNames = computed(() => {\r\n  return cn(\r\n    'relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full',\r\n    props.class,\r\n  )\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div :class=\"classNames\">\r\n    <slot />\r\n  </div>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst props = defineProps<{\r\n  class?: string\r\n}>()\r\n\r\nconst classNames = computed(() => {\r\n  return cn(\r\n    'flex h-full w-full items-center justify-center rounded-full bg-muted',\r\n    props.class,\r\n  )\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div :class=\"classNames\">\r\n    <slot />\r\n  </div>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport type { PopoverRootEmits, PopoverRootProps } from 'radix-vue'\r\nimport { PopoverRoot, useForwardPropsEmits } from 'radix-vue'\r\n\r\nconst props = defineProps<PopoverRootProps>()\r\nconst emits = defineEmits<PopoverRootEmits>()\r\n\r\nconst forwarded = useForwardPropsEmits(props, emits)\r\n</script>\r\n\r\n<template>\r\n  <PopoverRoot v-bind=\"forwarded\">\r\n    <slot />\r\n  </PopoverRoot>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { cn } from '@/lib/utils'\r\nimport {\r\n  PopoverContent,\r\n  type PopoverContentEmits,\r\n  type PopoverContentProps,\r\n  PopoverPortal,\r\n  useForwardPropsEmits,\r\n} from 'radix-vue'\r\nimport { computed, type HTMLAttributes } from 'vue'\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n})\r\n\r\nconst props = withDefaults(\r\n  defineProps<PopoverContentProps & { class?: HTMLAttributes['class'] }>(),\r\n  {\r\n    align: 'center',\r\n    sideOffset: 4,\r\n  },\r\n)\r\nconst emits = defineEmits<PopoverContentEmits>()\r\n\r\nconst delegatedProps = computed(() => {\r\n  const { class: _, ...delegated } = props\r\n\r\n  return delegated\r\n})\r\n\r\nconst forwarded = useForwardPropsEmits(delegatedProps, emits)\r\n</script>\r\n\r\n<template>\r\n  <PopoverPortal>\r\n    <PopoverContent\r\n      v-bind=\"{ ...forwarded, ...$attrs }\"\r\n      :class=\"\r\n        cn(\r\n          'z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\r\n          props.class,\r\n        )\r\n      \"\r\n    >\r\n      <slot />\r\n    </PopoverContent>\r\n  </PopoverPortal>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { PopoverTrigger, type PopoverTriggerProps } from 'radix-vue'\r\n\r\nconst props = defineProps<PopoverTriggerProps>()\r\n</script>\r\n\r\n<template>\r\n  <PopoverTrigger v-bind=\"props\">\r\n    <slot />\r\n  </PopoverTrigger>\r\n</template>\r\n","import axios from '@/lib/axios'\nimport type { Component } from 'vue'\n\nexport interface CompetitorData {\n  name: string\n  mentions: number\n  sentiment: number\n  isMain: boolean\n  color: string\n  updating: boolean\n  isNew: boolean\n  addedAt?: string\n}\n\nexport interface SentimentData {\n  name: string\n  positive: number\n  neutral: number\n  negative: number\n}\n\nexport interface ForumActivity {\n  name: string\n  mentions: number\n  percentage: number\n  trend: 'up' | 'down' | 'neutral'\n  trendPercentage: number\n  icon?: Component\n}\n\nexport interface RecentDiscussion {\n  competitor: string\n  content: string\n  forum: string\n  time: string\n  sentiment: 'positive' | 'negative' | 'neutral'\n}\n\nexport interface PriorityAlert {\n  competitor: string\n  description: string\n  importance: 'urgent' | 'important' | 'normal'\n  time: string\n}\n\nexport interface CompetitorAnalysis {\n  competitors: CompetitorData[]\n  sentimentData: SentimentData[]\n  forumActivities: Record<string, ForumActivity[]>\n  recentDiscussions: RecentDiscussion[]\n  priorityAlerts: PriorityAlert[]\n  scrapersRunning: boolean\n  lastUpdated: string\n}\n\nexport const competitorService = {\n  /**\n   * Fetches competitor analysis data including mentions, sentiment, and forum activity\n   */\n  async getAnalysis(): Promise<CompetitorAnalysis> {\n    console.log('CompetitorService - Fetching analysis data')\n    const response = await axios.get<CompetitorAnalysis>('/competitors/analysis/')\n    console.log('CompetitorService - Raw API response:', response)\n    console.log('CompetitorService - Forum activities data:', response.data.forumActivities)\n    \n    // Log each competitor's forum activities\n    Object.entries(response.data.forumActivities).forEach(([competitor, activities]) => {\n      console.log(`CompetitorService - ${competitor} forum activities:`)\n      activities.forEach(activity => {\n        console.log('  Forum:', activity.name)\n        console.log('  Mentions:', activity.mentions)\n        console.log('  Trend:', activity.trend)\n        console.log('  Trend %:', activity.trendPercentage)\n      })\n    })\n    \n    return response.data\n  },\n\n  /**\n   * Creates a new competitor to track\n   */\n  async createCompetitor(term: string) {\n    console.log('CompetitorService - Creating competitor:', term)\n    // Create competitor\n    const { data } = await axios.post('/competitors/', { term })\n    \n    // Get the created keywords\n    const keywordsResponse = await axios.get('/keywords/')\n    const keywords = keywordsResponse.data.filter((k: any) => k.term === term)\n    \n    // Trigger scraping for each keyword\n    for (const keyword of keywords) {\n      await axios.post(`/keywords/${keyword.id}/trigger_scrape/`)\n      // Small delay between requests\n      await new Promise(resolve => setTimeout(resolve, 300))\n    }\n    \n    return {\n      message: data.message,\n      scrapersRunning: true,\n      warnings: data.warnings\n    }\n  },\n\n  /**\n   * Deletes a competitor and all its associated keywords\n   */\n  async deleteCompetitor(term: string) {\n    console.log('CompetitorService - Deleting competitor:', term)\n    const encodedTerm = encodeURIComponent(term)\n    const { data } = await axios.delete(`/competitors/delete_term/${encodedTerm}/`)\n    return data\n  }\n}\n","import { defineStore } from 'pinia'\nimport { ref } from 'vue'\nimport { competitorService } from '@/services/competitors'\nimport type { CompetitorAnalysis, CompetitorData, SentimentData, RecentDiscussion, PriorityAlert, ForumActivity } from '@/services/competitors'\n\nconst CACHE_KEY = 'vueleaf_competitor_data'\nconst CACHE_DURATION = 900000 // 15 minutes\n\nexport const useCompetitorStore = defineStore('competitors', () => {\n  // State\n  const competitors = ref<CompetitorData[]>([])\n  const sentimentData = ref<SentimentData[]>([])\n  const priorityAlerts = ref<PriorityAlert[]>([])\n  const recentDiscussions = ref<RecentDiscussion[]>([])\n  const forumActivities = ref<Record<string, ForumActivity[]>>({})\n  const selectedCompetitor = ref<string | null>(null)\n  const isLoading = ref(false)\n  const error = ref<string | null>(null)\n  const scrapersRunning = ref(false)\n\n  // Actions\n  async function loadCompetitorData() {\n    // Check cache first\n    const cached = localStorage.getItem(CACHE_KEY)\n    if (cached) {\n      const { data, timestamp } = JSON.parse(cached)\n      const isRecent = Date.now() - timestamp < CACHE_DURATION\n      \n      if (isRecent) {\n        updateStoreData(data)\n        // Refresh in background if older than 1 minute\n        if (Date.now() - timestamp > 60000) {\n          fetchFreshData().catch(console.error)\n        }\n        return\n      }\n    }\n\n    isLoading.value = true\n    error.value = null\n    try {\n      await fetchFreshData()\n    } catch (e) {\n      error.value = e instanceof Error ? e.message : 'Failed to load competitor data'\n      console.error('Error loading competitor data:', e)\n    } finally {\n      isLoading.value = false\n    }\n  }\n\n  async function fetchFreshData() {\n    const data = await competitorService.getAnalysis()\n    \n    // Cache the response\n    localStorage.setItem(CACHE_KEY, JSON.stringify({\n      data,\n      timestamp: Date.now()\n    }))\n\n    updateStoreData(data)\n  }\n\n  function updateStoreData(data: CompetitorAnalysis) {\n    competitors.value = data.competitors\n    sentimentData.value = data.sentimentData\n    priorityAlerts.value = data.priorityAlerts\n    recentDiscussions.value = data.recentDiscussions\n    forumActivities.value = data.forumActivities\n    scrapersRunning.value = data.scrapersRunning\n\n    // Set first competitor as selected if none selected\n    if (!selectedCompetitor.value && data.competitors.length > 0) {\n      selectedCompetitor.value = data.competitors[0].name\n    }\n  }\n\n  function setSelectedCompetitor(competitor: string) {\n    selectedCompetitor.value = competitor\n  }\n\n  return {\n    // State\n    competitors,\n    sentimentData,\n    priorityAlerts,\n    recentDiscussions,\n    forumActivities,\n    selectedCompetitor,\n    isLoading,\n    error,\n    scrapersRunning,\n\n    // Actions\n    loadCompetitorData,\n    fetchFreshData,\n    setSelectedCompetitor\n  }\n})","<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport type { CompetitorData } from '@/services/competitors'\r\nimport { useCompetitorStore } from '@/stores/competitors'\r\n\r\ninterface Props {\r\n  competitors: CompetitorData[]\r\n}\r\n\r\nconst props = defineProps<Props>()\r\nconst store = useCompetitorStore()\r\n\r\nconst selectedCompetitor = computed(() => store.selectedCompetitor)\r\n\r\nconst handleSelect = (competitor: string) => {\r\n  store.setSelectedCompetitor(competitor)\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"mb-4\">\r\n    <div class=\"flex flex-wrap gap-2 border-b border-gray-200 pb-2\">\r\n      <button\r\n        v-for=\"competitor in competitors\"\r\n        :key=\"competitor.name\"\r\n        @click=\"handleSelect(competitor.name)\"\r\n        :class=\"[\r\n          'px-4 py-2 text-sm font-medium rounded-lg',\r\n          selectedCompetitor === competitor.name\r\n            ? 'bg-green-50 text-green-700 border-b-2 border-green-500'\r\n            : 'text-gray-500 hover:text-gray-700 hover:bg-gray-50'\r\n        ]\"\r\n      >\r\n        {{ competitor.name }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { MessageSquare, TrendingUp, TrendingDown, Minus } from 'lucide-vue-next'\r\nimport { Progress } from '@/components/ui/progress'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { cn } from '@/lib/utils'\r\nimport type { ForumActivity } from '@/services/competitors'\r\n\r\ninterface Props {\r\n  forum: ForumActivity\r\n}\r\n\r\nconst props = defineProps<Props>()\r\n\r\n// Log the forum data when it's received\r\nconsole.log('ForumMetricRow - Received forum data:', props.forum)\r\n\r\nconst getTrendIcon = (trend: string) => {\r\n  console.log('ForumMetricRow - Getting trend icon for:', trend)\r\n  switch (trend) {\r\n    case 'up':\r\n      return TrendingUp\r\n    case 'down':\r\n      return TrendingDown\r\n    default:\r\n      return Minus\r\n  }\r\n}\r\n\r\nconst getTrendClass = (trend: string) => {\r\n  console.log('ForumMetricRow - Getting trend class for:', trend)\r\n  switch (trend) {\r\n    case 'up':\r\n      return '!bg-gradient-to-r !from-emerald-500/10 !to-emerald-500/5 !text-emerald-700 hover:!from-emerald-500/20 hover:!to-emerald-500/15 transition-colors duration-300'\r\n    case 'down':\r\n      return '!bg-gradient-to-r !from-rose-500/10 !to-rose-500/5 !text-rose-700 hover:!from-rose-500/20 hover:!to-rose-500/15 transition-colors duration-300'\r\n    default:\r\n      return '!bg-gradient-to-r !from-amber-500/10 !to-amber-500/5 !text-amber-700 hover:!from-amber-500/20 hover:!to-amber-500/15 transition-colors duration-300'\r\n  }\r\n}\r\n\r\nconst formatTrendPercentage = (trend: string, percentage: number) => {\r\n  console.log('ForumMetricRow - Formatting trend percentage:', { trend, percentage })\r\n  // Handle neutral trend or very small percentages (less than 0.01)\r\n  if (trend === 'neutral' || Math.abs(percentage) < 0.01) {\r\n    console.log('ForumMetricRow - Returning 0% for neutral/negligible trend')\r\n    return '0%'\r\n  }\r\n  // Round to 2 decimal places to avoid floating point issues\r\n  const roundedPercentage = Math.round(percentage * 100) / 100\r\n  const formattedValue = `${roundedPercentage > 0 ? '+' : ''}${roundedPercentage}%`\r\n  console.log('ForumMetricRow - Formatted trend value:', formattedValue)\r\n  return formattedValue\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"flex items-center justify-between p-2\">\r\n    <div class=\"flex items-center space-x-2\">\r\n      <div class=\"bg-green-100 p-1.5 rounded-full\">\r\n        <component :is=\"forum.icon || MessageSquare\" class=\"h-5 w-5 text-green-600\" />\r\n      </div>\r\n      <div class=\"flex-1 px-4\">\r\n        <div class=\"font-semibold\">{{ forum.name }}</div>\r\n        <div class=\"text-sm text-gray-600\">\r\n          {{ forum.mentions.toLocaleString() }} mentions\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"flex-1 mr-4\">\r\n      <div class=\"relative w-full h-1.5 bg-gray-200 rounded-full overflow-hidden\">\r\n        <div \r\n          class=\"absolute left-0 top-0 h-full bg-green-600 transition-all duration-200 ease-in-out\"\r\n          :style=\"{ width: `${forum.percentage}%` }\"\r\n        />\r\n      </div>\r\n      <p class=\"text-right text-xs text-gray-600 mt-0.5\">{{ forum.percentage }}% of total</p>\r\n    </div>\r\n    \r\n    <div class=\"flex items-center\">\r\n      <Badge variant=\"outline\" :class=\"cn('!border-0 !bg-transparent inline-flex items-center rounded-md px-2 py-1', getTrendClass(forum.trend))\">\r\n        <component\r\n          :is=\"getTrendIcon(forum.trend)\"\r\n          class=\"h-3 w-3 mr-1 inline\"\r\n        />\r\n        {{ formatTrendPercentage(forum.trend, forum.trendPercentage) }}\r\n      </Badge>\r\n    </div>\r\n  </div>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport { Loader2, AlertTriangle } from 'lucide-vue-next'\r\nimport { Button } from '@/components/ui/button'\r\nimport CompetitorTabs from './CompetitorTabs.vue'\r\nimport ForumMetricRow from './ForumMetricRow.vue'\r\nimport { useCompetitorStore } from '@/stores/competitors'\r\nimport type { CompetitorData } from '@/services/competitors'\r\n\r\ninterface Props {\r\n  competitors: CompetitorData[]\r\n}\r\n\r\ndefineProps<Props>()\r\n\r\nconst store = useCompetitorStore()\r\n\r\nconst selectedData = computed(() => {\r\n  if (!store.selectedCompetitor) return null\r\n  return store.forumActivities?.[store.selectedCompetitor] || null\r\n})\r\n\r\nconst totalMentions = computed(() => {\r\n  if (!selectedData.value) return 0\r\n  return selectedData.value.reduce((sum, forum) => sum + forum.mentions, 0)\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <CompetitorTabs\r\n      :competitors=\"competitors\"\r\n    />\r\n\r\n    <!-- Loading State -->\r\n    <div v-if=\"store.isLoading\" class=\"flex items-center justify-center p-8\">\r\n      <Loader2 class=\"h-8 w-8 animate-spin text-green-600\" />\r\n    </div>\r\n\r\n    <!-- Error State -->\r\n    <div v-else-if=\"store.error\" class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n      <div class=\"flex items-center\">\r\n        <AlertTriangle class=\"h-5 w-5 text-red-500 mr-2\" />\r\n        <p class=\"text-red-700\">{{ store.error }}</p>\r\n      </div>\r\n      <Button \r\n        class=\"mt-2\" \r\n        variant=\"outline\" \r\n        @click=\"store.loadCompetitorData()\"\r\n      >\r\n        Retry\r\n      </Button>\r\n    </div>\r\n\r\n    <!-- Data View -->\r\n    <template v-else-if=\"selectedData\">\r\n      <div class=\"mb-4\">\r\n        <div class=\"text-3xl font-bold text-green-700\">\r\n          {{ totalMentions.toLocaleString() }}\r\n        </div>\r\n        <p class=\"text-base text-gray-600\">Total Mentions</p>\r\n      </div>\r\n      \r\n      <div class=\"space-y-4\">\r\n        <ForumMetricRow\r\n          v-for=\"forum in selectedData\"\r\n          :key=\"forum.name\"\r\n          :forum=\"forum\"\r\n        />\r\n      </div>\r\n    </template>\r\n\r\n    <!-- Empty State -->\r\n    <div v-else class=\"text-center p-8 text-gray-500\">\r\n      Select a competitor to view forum activity\r\n    </div>\r\n  </div>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\r\nimport { Shield, TrendingUp, AlertTriangle, ExternalLink, ThumbsUp, ThumbsDown, Meh, MessagesSquare, Loader2, Plus, Trash, Bell, BarChart2, MessageCircle } from 'lucide-vue-next'\r\nimport analyticsImage from '@/assets/images/analytics/analytics-green.png'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\r\nimport LoadingDialog from '@/components/ui/loading-dialog.vue'\r\nimport { use } from 'echarts/core'\r\nimport { BarChart } from 'echarts/charts'\r\nimport { GridComponent, TooltipComponent, LegendComponent } from 'echarts/components'\r\nimport { CanvasRenderer } from 'echarts/renderers'\r\nimport VChart from 'vue-echarts'\r\nimport { cn } from '@/lib/utils'\r\nimport { competitorService } from '@/services/competitors'\r\nimport ForumMetrics from '@/components/dashboard/ForumMetrics.vue'\r\nimport { useCompetitorStore } from '@/stores/competitors'\r\n\r\nuse([GridComponent, TooltipComponent, LegendComponent, BarChart, CanvasRenderer])\r\n\r\n// Store\r\nconst competitorStore = useCompetitorStore()\r\n\r\n// Polling state\r\nconst pollingInterval = ref<number | null>(null)\r\n\r\n// Discussion Filters\r\nconst activeTab = ref('')\r\nconst activeSentiment = ref<string | null>(null)\r\n\r\n// Computed tabs based on competitors, excluding logged-in user\r\nconst discussionTabs = computed(() => {\r\n  return competitorStore.competitors\r\n    .filter(competitor => !competitor.isMain)\r\n    .map(competitor => ({\r\n      id: competitor.name.toLowerCase().replace(/[^a-z0-9]/g, ''),\r\n      label: competitor.name\r\n    }))\r\n})\r\n\r\n// Start polling if needed\r\nconst startPolling = () => {\r\n  if (!pollingInterval.value && competitorStore.scrapersRunning) {\r\n    pollingInterval.value = window.setInterval(() => {\r\n      competitorStore.loadCompetitorData()\r\n    }, 10000)\r\n  }\r\n}\r\n\r\n// Stop polling\r\nconst stopPolling = () => {\r\n  if (pollingInterval.value) {\r\n    window.clearInterval(pollingInterval.value)\r\n    pollingInterval.value = null\r\n  }\r\n}\r\n\r\n// Filtered discussions based on active tab and sentiment\r\nconst filteredDiscussions = computed(() => {\r\n  if (!activeTab.value) {\r\n    return []\r\n  }\r\n  return competitorStore.recentDiscussions.filter(discussion => {\r\n    const matchesCompetitor = discussion.competitor.toLowerCase().replace(/[^a-z0-9]/g, '') === activeTab.value\r\n    const matchesSentiment = !activeSentiment.value || discussion.sentiment === activeSentiment.value\r\n    return matchesCompetitor && matchesSentiment\r\n  })\r\n})\r\n\r\n// Add Competitor State\r\nconst showAddPopover = ref(false)\r\nconst newCompetitorName = ref('')\r\nconst addingCompetitor = ref(false)\r\nconst addError = ref<string | null>(null)\r\nconst showLoadingDialog = ref(false)\r\n\r\n// We already have polling logic in the store, so we'll use that instead\r\n// of managing our own interval\r\n\r\n// Delete Competitor State\r\nconst deletingCompetitor = ref<string | null>(null)\r\n\r\n// Add competitor\r\nconst addCompetitor = async () => {\r\n  if (!newCompetitorName.value.trim()) {\r\n    addError.value = 'Please enter a competitor name'\r\n    return\r\n  }\r\n\r\n  try {\r\n    addingCompetitor.value = true\r\n    addError.value = null\r\n    showLoadingDialog.value = true\r\n    \r\n    // Create competitor (which will also trigger scraping)\r\n    const term = newCompetitorName.value.trim()\r\n    const result = await competitorService.createCompetitor(term)\r\n    \r\n    // Initial data load\r\n    await competitorStore.loadCompetitorData()\r\n    \r\n    // Keep dialog open if scrapers are running\r\n    if (result.scrapersRunning) {\r\n      // Start store's polling mechanism\r\n      startPolling()\r\n      \r\n      // Keep polling until we have actual data\r\n      showLoadingDialog.value = true\r\n      const term = newCompetitorName.value.trim()\r\n      \r\n      // Start polling for data\r\n      const checkData = async () => {\r\n        await competitorStore.loadCompetitorData()\r\n        const competitor = competitorStore.competitors.find(c => c.name === term)\r\n        \r\n        // Keep polling until we have mentions data for the new competitor\r\n        if (!competitor?.mentions) {\r\n          setTimeout(checkData, 5000)\r\n        } else {\r\n          showLoadingDialog.value = false\r\n          showAddPopover.value = false\r\n          newCompetitorName.value = ''\r\n        }\r\n      }\r\n      \r\n      // Clear form immediately and start polling\r\n      showAddPopover.value = false\r\n      newCompetitorName.value = ''\r\n      checkData()\r\n    } else {\r\n      showLoadingDialog.value = false\r\n    }\r\n  } catch (e) {\r\n    addError.value = e instanceof Error ? e.message : 'Failed to add competitor. Please try again.'\r\n    console.error('Error adding competitor:', e)\r\n    showLoadingDialog.value = false\r\n  } finally {\r\n    addingCompetitor.value = false\r\n  }\r\n}\r\n\r\n// Delete competitor\r\nconst deleteCompetitor = async (term: string) => {\r\n  if (!confirm(`Are you sure you want to delete \"${term}\" from your competitors? This action cannot be undone.`)) {\r\n    return\r\n  }\r\n\r\n  try {\r\n    deletingCompetitor.value = term\r\n    await competitorService.deleteCompetitor(term)\r\n    await competitorStore.loadCompetitorData() // Use store method\r\n  } catch (e) {\r\n    competitorStore.error = e instanceof Error ? e.message : 'Failed to delete competitor. Please try again.'\r\n    console.error('Error deleting competitor:', e)\r\n  } finally {\r\n    deletingCompetitor.value = null\r\n  }\r\n}\r\n\r\n// Load data when component mounts and clean up on unmount\r\nonMounted(() => {\r\n  // Load initial data\r\n  competitorStore.loadCompetitorData().then(() => {\r\n    // Set initial active tab\r\n    const firstCompetitor = competitorStore.competitors.find(c => !c.isMain)\r\n    if (firstCompetitor) {\r\n      activeTab.value = firstCompetitor.name.toLowerCase().replace(/[^a-z0-9]/g, '')\r\n    }\r\n    // Start polling if needed\r\n    if (competitorStore.scrapersRunning) {\r\n      startPolling()\r\n    }\r\n  })\r\n})\r\n\r\nonUnmounted(() => {\r\n  stopPolling()\r\n})\r\n\r\n// Methods\r\nconst getCompetitorColor = (competitorName: string) => {\r\n  const competitor = competitorStore.competitors.find(c => c.name === competitorName)\r\n  return competitor ? competitor.color : 'gray'\r\n}\r\n\r\nconst getSentimentIcon = (sentiment: string) => {\r\n  switch (sentiment) {\r\n    case 'positive':\r\n      return ThumbsUp\r\n    case 'negative':\r\n      return ThumbsDown\r\n    default:\r\n      return Meh\r\n  }\r\n}\r\n\r\n// Chart options\r\nconst chartOption = computed(() => ({\r\n  grid: {\r\n    left: '3%',\r\n    right: '4%',\r\n    bottom: '3%',\r\n    containLabel: true\r\n  },\r\n  xAxis: {\r\n    type: 'value'\r\n  },\r\n  yAxis: {\r\n    type: 'category',\r\n    data: competitorStore.sentimentData.map(item => item.name)\r\n  },\r\n  tooltip: {\r\n    trigger: 'axis',\r\n    axisPointer: {\r\n      type: 'shadow'\r\n    }\r\n  },\r\n  legend: {\r\n    data: ['Positive', 'Neutral', 'Negative']\r\n  },\r\n  series: [\r\n    {\r\n      name: 'Positive',\r\n      type: 'bar',\r\n      stack: 'total',\r\n      data: competitorStore.sentimentData.map(item => item.positive),\r\n      itemStyle: { color: '#86efac' }\r\n    },\r\n    {\r\n      name: 'Neutral',\r\n      type: 'bar',\r\n      stack: 'total',\r\n      data: competitorStore.sentimentData.map(item => item.neutral),\r\n      itemStyle: { color: '#fde68a' }\r\n    },\r\n    {\r\n      name: 'Negative',\r\n      type: 'bar',\r\n      stack: 'total',\r\n      data: competitorStore.sentimentData.map(item => item.negative),\r\n      itemStyle: { color: '#fca5a5' }\r\n    }\r\n  ]\r\n}))\r\n</script>\r\n\r\n<template>\r\n  <div class=\"flex-1 p-6\">\r\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6\">\r\n      <!-- Welcome Section -->\r\n      <div class=\"mb-8 bg-white rounded-lg shadow-sm p-6\">\r\n        <div class=\"flex justify-between items-start\">\r\n          <div class=\"flex-1\">\r\n            <h1 class=\"text-2xl md:text-3xl font-bold text-green-800 mb-2\">\r\n              Competitor Monitoring\r\n            </h1>\r\n            <p class=\"text-gray-600 text-lg\">\r\n              Keep your finger on the pulse of the market. Track how your competitors are performing across the growing community and understand where your brand stands. We analyze discussions, sentiment, and trends across all major growing platforms to give you real-time insights into market dynamics.\r\n            </p>\r\n          </div>\r\n          <div class=\"w-48 h-48 flex-shrink-0 relative\">\r\n            <img\r\n              :src=\"analyticsImage\"\r\n              alt=\"Competitor Monitoring illustration\"\r\n              class=\"w-full h-full object-contain\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Add Competitor Button -->\r\n      <div class=\"flex justify-end mb-6\">\r\n        <Popover v-model:open=\"showAddPopover\">\r\n          <PopoverTrigger>\r\n            <Button class=\"bg-green-600 hover:bg-green-700 text-white\">\r\n              <Plus class=\"h-4 w-4 mr-2\" />\r\n              Add Competitor\r\n            </Button>\r\n          </PopoverTrigger>\r\n          <PopoverContent class=\"w-80\">\r\n            <div class=\"space-y-4\">\r\n              <h3 class=\"font-semibold\">Add New Competitor</h3>\r\n              <div>\r\n                <Input\r\n                  v-model=\"newCompetitorName\"\r\n                  placeholder=\"Enter competitor name\"\r\n                  :disabled=\"addingCompetitor\"\r\n                  @keyup.enter=\"addCompetitor\"\r\n                />\r\n                <p v-if=\"addError\" class=\"mt-2 text-sm text-red-600\">{{ addError }}</p>\r\n              </div>\r\n              <div class=\"flex justify-end gap-2\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  @click=\"showAddPopover = false\"\r\n                  :disabled=\"addingCompetitor\"\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  @click=\"addCompetitor\"\r\n                  :disabled=\"addingCompetitor\"\r\n                  class=\"bg-green-600 hover:bg-green-700 text-white\"\r\n                >\r\n                  <Loader2 v-if=\"addingCompetitor\" class=\"h-4 w-4 mr-2 animate-spin\" />\r\n                  <Plus v-else class=\"h-4 w-4 mr-2\" />\r\n                  Add\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </PopoverContent>\r\n        </Popover>\r\n      </div>\r\n\r\n      <!-- Empty State -->\r\n      <div v-if=\"!competitorStore.competitors.length && !competitorStore.isLoading\" class=\"text-center p-12 bg-white rounded-lg shadow-sm\">\r\n        <Shield class=\"h-12 w-12 mx-auto text-gray-400 mb-4\" />\r\n        <h3 class=\"text-lg font-medium text-gray-900 mb-2\">No competitors added yet</h3>\r\n        <p class=\"text-gray-500 mb-4\">Add your first competitor to start monitoring their presence across growing communities.</p>\r\n        <Button class=\"bg-green-600 hover:bg-green-700 text-white\" @click=\"showAddPopover = true\">\r\n          <Plus class=\"h-4 w-4 mr-2\" />\r\n          Add Your First Competitor\r\n        </Button>\r\n      </div>\r\n\r\n      <!-- Loading State -->\r\n      <template v-else-if=\"competitorStore.isLoading\">\r\n        <!-- Competitor Cards Skeleton -->\r\n        <Card>\r\n          <CardHeader class=\"bg-gray-50\">\r\n            <CardTitle class=\"text-green-800\">Competitor Overview</CardTitle>\r\n          </CardHeader>\r\n          <CardContent class=\"pt-6\">\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n              <div v-for=\"i in 4\" :key=\"i\" class=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\r\n                <div class=\"flex items-center justify-between mb-2\">\r\n                  <div class=\"h-5 bg-gray-200 rounded animate-pulse w-32\"></div>\r\n                  <div class=\"h-4 w-4 bg-gray-200 rounded animate-pulse\"></div>\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <div class=\"h-8 bg-gray-200 rounded animate-pulse w-20\"></div>\r\n                  <div class=\"h-4 bg-gray-200 rounded animate-pulse w-24\"></div>\r\n                  <div class=\"h-4 bg-gray-200 rounded animate-pulse w-32\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <!-- Priority Alerts Skeleton -->\r\n        <Card class=\"mt-6\">\r\n          <CardHeader class=\"bg-gray-50\">\r\n            <CardTitle class=\"text-green-800\">Priority Alerts</CardTitle>\r\n          </CardHeader>\r\n          <CardContent class=\"pt-6\">\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              <div v-for=\"i in 3\" :key=\"i\" class=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\r\n                <div class=\"flex items-start space-x-4\">\r\n                  <div class=\"h-5 w-5 bg-gray-200 rounded animate-pulse\"></div>\r\n                  <div class=\"flex-1 space-y-2\">\r\n                    <div class=\"h-5 bg-gray-200 rounded animate-pulse w-32\"></div>\r\n                    <div class=\"h-4 bg-gray-200 rounded animate-pulse w-full\"></div>\r\n                    <div class=\"h-4 bg-gray-200 rounded animate-pulse w-3/4\"></div>\r\n                    <div class=\"flex items-center gap-2\">\r\n                      <div class=\"h-5 bg-gray-200 rounded animate-pulse w-16\"></div>\r\n                      <div class=\"h-4 bg-gray-200 rounded animate-pulse w-24\"></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <!-- Sentiment Chart Skeleton -->\r\n        <Card class=\"mt-6\">\r\n          <CardHeader class=\"bg-gray-50\">\r\n            <CardTitle class=\"text-green-800\">Sentiment Comparison</CardTitle>\r\n          </CardHeader>\r\n          <CardContent class=\"pt-6\">\r\n            <div class=\"h-[400px] bg-gray-50 rounded-lg border border-gray-200 animate-pulse\"></div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <!-- Recent Discussions Skeleton -->\r\n        <Card class=\"mt-6\">\r\n          <CardHeader class=\"bg-gray-50\">\r\n            <CardTitle class=\"text-green-800\">Recent Discussions</CardTitle>\r\n          </CardHeader>\r\n          <CardContent class=\"pt-6\">\r\n            <div class=\"flex gap-2 mb-4\">\r\n              <div v-for=\"i in 3\" :key=\"i\" class=\"h-9 bg-gray-200 rounded animate-pulse w-24\"></div>\r\n            </div>\r\n            <div class=\"space-y-4\">\r\n              <div v-for=\"i in 3\" :key=\"i\" class=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\r\n                <div class=\"flex items-center justify-between mb-4\">\r\n                  <div class=\"flex items-center gap-3\">\r\n                    <div class=\"h-10 w-10 bg-gray-200 rounded-full animate-pulse\"></div>\r\n                    <div class=\"space-y-2\">\r\n                      <div class=\"h-5 bg-gray-200 rounded animate-pulse w-32\"></div>\r\n                      <div class=\"h-4 bg-gray-200 rounded animate-pulse w-24\"></div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"h-6 bg-gray-200 rounded animate-pulse w-20\"></div>\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <div class=\"h-4 bg-gray-200 rounded animate-pulse w-full\"></div>\r\n                  <div class=\"h-4 bg-gray-200 rounded animate-pulse w-3/4\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </template>\r\n\r\n      <!-- Error State -->\r\n      <div v-else-if=\"competitorStore.error\" class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n        <div class=\"flex items-center\">\r\n          <AlertTriangle class=\"h-5 w-5 text-red-500 mr-2\" />\r\n          <p class=\"text-red-700\">{{ competitorStore.error }}</p>\r\n        </div>\r\n        <Button class=\"mt-2\" variant=\"outline\" @click=\"competitorStore.loadCompetitorData\">\r\n          Retry\r\n        </Button>\r\n      </div>\r\n\r\n      <!-- Data View -->\r\n      <template v-else>\r\n        <!-- Competitor Cards -->\r\n        <Card>\r\n          <CardHeader>\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100\">\r\n                <Shield class=\"w-5 h-5 text-gray-500\" />\r\n              </div>\r\n              <div>\r\n                <CardTitle class=\"text-lg font-medium text-gray-700\">Competitor Overview</CardTitle>\r\n                <p class=\"text-base text-gray-500\">Track and analyze competitor performance</p>\r\n              </div>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent class=\"pt-6\">\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n              <Card\r\n                v-for=\"(competitor, index) in competitorStore.competitors\"\r\n                :key=\"index\"\r\n                :class=\"cn(`bg-${competitor.color}-50 border-${competitor.color}-200`)\"\r\n              >\r\n                <CardHeader class=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                  <CardTitle class=\"text-sm font-medium\">\r\n                    {{ competitor.name }}\r\n                    <Badge\r\n                      v-if=\"competitor.isMain\"\r\n                      :class=\"cn(`ml-2 bg-${competitor.color}-100 text-${competitor.color}-800`)\"\r\n                    >\r\n                      Main\r\n                    </Badge>\r\n                    <Badge\r\n                      v-if=\"competitor.name === 'Your Brand'\"\r\n                      class=\"ml-2 bg-green-100 text-green-800\"\r\n                    >\r\n                      Primary\r\n                    </Badge>\r\n                  </CardTitle>\r\n                  <div class=\"flex items-center space-x-2\">\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      class=\"text-red-600 hover:text-red-800 hover:bg-red-100\"\r\n                      @click=\"deleteCompetitor(competitor.name)\"\r\n                      :disabled=\"deletingCompetitor === competitor.name || competitor.updating\"\r\n                    >\r\n                      <Loader2 v-if=\"deletingCompetitor === competitor.name\" class=\"h-4 w-4 animate-spin\" />\r\n                      <Trash v-else class=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Shield :class=\"cn(`h-4 w-4 text-${competitor.color}-500`)\" />\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <!-- Show loading spinner when updating -->\r\n                  <div v-if=\"competitor.updating\" class=\"flex flex-col items-center justify-center py-4\">\r\n                    <Loader2 class=\"h-8 w-8 animate-spin text-green-600 mb-2\" />\r\n                    <p class=\"text-sm text-gray-600\">Collecting data...</p>\r\n                  </div>\r\n                  <template v-else>\r\n                    <div class=\"text-2xl font-bold\">{{ competitor.mentions.toLocaleString() }}</div>\r\n                    <p class=\"text-xs text-muted-foreground\">\r\n                      Total Mentions\r\n                    </p>\r\n                    <div class=\"mt-4 flex items-center\">\r\n                      <TrendingUp :class=\"cn(`h-4 w-4 text-${competitor.color}-500 mr-2`)\" />\r\n                      <span :class=\"cn(`text-sm font-medium text-${competitor.color}-600`)\">\r\n                        {{ competitor.sentiment }}% Positive Sentiment\r\n                      </span>\r\n                    </div>\r\n                  </template>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n            <div class=\"mt-6 p-4 bg-gray-100 border border-gray-200 rounded-lg\">\r\n              <p class=\"text-sm text-gray-700 font-medium\">\r\n                Monitor how your brand and competitors perform across growing communities. Each card shows total mentions and overall sentiment trends, helping you track relative market presence and community perception. This snapshot gives you quick insights into how your brand stands against key players in the market.\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <!-- Sentiment Comparison Chart -->\r\n        <Card>\r\n          <CardHeader>\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100\">\r\n                <BarChart2 class=\"w-5 h-5 text-gray-500\" />\r\n              </div>\r\n              <div>\r\n                <CardTitle class=\"text-lg font-medium text-gray-700\">Sentiment Comparison</CardTitle>\r\n                <p class=\"text-base text-gray-500\">Compare sentiment across competitors</p>\r\n              </div>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent class=\"pt-6\">\r\n            <template v-if=\"!competitorStore.isLoading && !competitorStore.error && (!competitorStore.sentimentData.length || competitorStore.sentimentData.every(item => !item.positive && !item.neutral && !item.negative))\">\r\n              <div class=\"flex flex-col items-center justify-center h-64 p-6 text-center\">\r\n                <div class=\"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center mb-6\">\r\n                  <BarChart2 class=\"w-8 h-8 text-teal-400\" />\r\n                </div>\r\n\r\n                <!-- Text Content -->\r\n                <h3 class=\"text-lg font-medium text-gray-700 mb-2\">\r\n                  No Sentiment Data Yet\r\n                </h3>\r\n                <p class=\"text-gray-500 text-sm mb-5 max-w-[700px]\">\r\n                  Track sentiment trends and compare brand performance across different competitor mentions.\r\n                </p>\r\n\r\n              </div>\r\n            </template>\r\n            <template v-else>\r\n              <div class=\"h-[400px]\">\r\n                <VChart :option=\"chartOption\" autoresize />\r\n              </div>\r\n            </template>\r\n            <div class=\"mt-6 p-4 bg-gray-100 border border-gray-200 rounded-lg\">\r\n              <p class=\"text-sm text-gray-700 font-medium\">\r\n                Compare how different brands are perceived in growing community discussions. The bars show the proportion of positive (green), neutral (yellow), and negative (red) mentions for each brand, letting you benchmark your reputation against competitors. This comparison helps identify where your brand stands out and where there might be opportunities to improve relative to other players in the market.\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <!-- Priority Alerts -->\r\n        <Card>\r\n          <CardHeader>\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100\">\r\n                <Bell class=\"w-5 h-5 text-gray-500\" />\r\n              </div>\r\n              <div>\r\n                <CardTitle class=\"text-lg font-medium text-gray-700\">Priority Alerts</CardTitle>\r\n                <p class=\"text-base text-gray-500\">Important updates and notifications</p>\r\n              </div>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent class=\"pt-6\">\r\n            <div v-if=\"!competitorStore.isLoading && !competitorStore.error && !competitorStore.priorityAlerts.length\" class=\"flex flex-col items-center justify-center h-64 p-6 text-center\">\r\n              <div class=\"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mb-6\">\r\n                <Bell class=\"w-8 h-8 text-red-400\" />\r\n              </div>\r\n\r\n              <!-- Text Content -->\r\n              <h3 class=\"text-lg font-medium text-gray-700 mb-2\">\r\n                No Priority Alerts\r\n              </h3>\r\n              <p class=\"text-gray-500 text-sm mb-5 max-w-[700px]\">\r\n                Configure your alert preferences to get notified about important brand mentions and market changes.\r\n              </p>\r\n\r\n            </div>\r\n            <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              <div\r\n                v-for=\"(alert, index) in competitorStore.priorityAlerts\"\r\n                :key=\"index\"\r\n                :class=\"cn(`p-4 rounded-lg flex items-start space-x-4 bg-${getCompetitorColor(alert.competitor)}-50 border border-${getCompetitorColor(alert.competitor)}-200`)\"\r\n              >\r\n                <AlertTriangle :class=\"cn(`h-5 w-5 text-${getCompetitorColor(alert.competitor)}-500`)\" />\r\n                <div class=\"flex-1\">\r\n                  <h3 :class=\"cn(`font-semibold text-${getCompetitorColor(alert.competitor)}-800`)\">\r\n                    {{ alert.competitor }}\r\n                  </h3>\r\n                  <p class=\"text-sm text-gray-600\">{{ alert.description }}</p>\r\n                  <div class=\"flex items-center mt-2\">\r\n                    <Badge\r\n                      :class=\"cn(`mr-2 ${\r\n                        alert.importance === 'urgent' ? 'bg-red-100 text-red-800' :\r\n                        alert.importance === 'important' ? 'bg-yellow-100 text-yellow-800' :\r\n                        'bg-blue-100 text-blue-800'\r\n                      }`)\"\r\n                    >\r\n                      {{ alert.importance }}\r\n                    </Badge>\r\n                    <span class=\"text-xs text-gray-500\">{{ alert.time }}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"mt-6 p-4 bg-gray-100 border border-gray-200 rounded-lg\">\r\n              <p class=\"text-sm text-gray-700 font-medium\">\r\n                Stay ahead of significant market developments. These alerts highlight important changes in competitor activities, from notable sentiment shifts to new product discussions and emerging trends. Real-time notifications ensure you never miss crucial developments that could impact your market position in the growing community.\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <!-- Forum Activity -->\r\n        <Card>\r\n          <CardHeader>\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100\">\r\n                <MessagesSquare class=\"w-5 h-5 text-gray-500\" />\r\n              </div>\r\n              <div>\r\n                <CardTitle class=\"text-lg font-medium text-gray-700\">Forum Activity</CardTitle>\r\n                <p class=\"text-base text-gray-500\">Track engagement across platforms</p>\r\n              </div>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent class=\"pt-6\">\r\n            <template v-if=\"!competitorStore.isLoading && !competitorStore.error && !competitorStore.forumActivities\">\r\n              <div class=\"flex flex-col items-center justify-center h-64 p-6 text-center\">\r\n                <div class=\"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mb-6\">\r\n                  <MessagesSquare class=\"w-8 h-8 text-indigo-400\" />\r\n                </div>\r\n\r\n                <!-- Text Content -->\r\n                <h3 class=\"text-lg font-medium text-gray-700 mb-2\">\r\n                  No Forum Activity Yet\r\n                </h3>\r\n                <p class=\"text-gray-500 text-sm mb-5 max-w-[700px]\">\r\n                  Monitor brand discussions and engagement metrics across cannabis community forums.\r\n                </p>\r\n\r\n              </div>\r\n            </template>\r\n            <template v-else>\r\n              <ForumMetrics :competitors=\"competitorStore.competitors\" />\r\n            </template>\r\n            <div class=\"mt-4 p-3 bg-gray-100 border border-gray-200 rounded-lg\">\r\n              <p class=\"text-xs text-gray-700 font-medium\">\r\n                Track brand mentions across key cannabis forums. Monitor trends and engagement levels to understand where your audience is most active and how discussions are evolving. This data helps you focus your efforts on the most impactful platforms.\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <!-- Recent Discussions -->\r\n        <Card>\r\n          <CardHeader>\r\n            <div class=\"flex items-center gap-3\">\r\n              <div class=\"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100\">\r\n                <MessageCircle class=\"w-5 h-5 text-gray-500\" />\r\n              </div>\r\n              <div>\r\n                <CardTitle class=\"text-lg font-medium text-gray-700\">Recent Discussions</CardTitle>\r\n                <p class=\"text-base text-gray-500\">Latest conversations and mentions</p>\r\n              </div>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent class=\"pt-6\">\r\n            <!-- Discussion Tabs -->\r\n            <div class=\"flex flex-wrap gap-2 mb-4\">\r\n              <Button\r\n                v-for=\"tab in discussionTabs\"\r\n                :key=\"tab.id\"\r\n                :variant=\"activeTab === tab.id ? 'default' : 'outline'\"\r\n                :class=\"activeTab === tab.id ? 'bg-green-600 text-white hover:bg-green-700 px-4 py-2' : 'hover:bg-gray-100 px-4 py-2'\"\r\n                @click=\"activeTab = tab.id\"\r\n              >\r\n                {{ tab.label }}\r\n              </Button>\r\n            </div>\r\n\r\n            <!-- Sentiment Filter Buttons -->\r\n            <div class=\"flex flex-wrap gap-2 mb-4\">\r\n              <Button\r\n                variant=\"outline\"\r\n                :class=\"cn(\r\n                  'hover:bg-green-100',\r\n                  activeSentiment === 'positive' ? 'bg-green-100 text-green-800 border-green-600' : 'text-gray-600'\r\n                )\"\r\n                @click=\"activeSentiment = activeSentiment === 'positive' ? null : 'positive'\"\r\n              >\r\n                <ThumbsUp class=\"h-4 w-4 mr-2\" />\r\n                Positive\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                :class=\"cn(\r\n                  'hover:bg-yellow-100',\r\n                  activeSentiment === 'neutral' ? 'bg-yellow-100 text-yellow-800 border-yellow-600' : 'text-gray-600'\r\n                )\"\r\n                @click=\"activeSentiment = activeSentiment === 'neutral' ? null : 'neutral'\"\r\n              >\r\n                <Meh class=\"h-4 w-4 mr-2\" />\r\n                Neutral\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                :class=\"cn(\r\n                  'hover:bg-red-100',\r\n                  activeSentiment === 'negative' ? 'bg-red-100 text-red-800 border-red-600' : 'text-gray-600'\r\n                )\"\r\n                @click=\"activeSentiment = activeSentiment === 'negative' ? null : 'negative'\"\r\n              >\r\n                <ThumbsDown class=\"h-4 w-4 mr-2\" />\r\n                Negative\r\n              </Button>\r\n            </div>\r\n\r\n            <div v-if=\"!competitorStore.isLoading && !competitorStore.error && !filteredDiscussions.length\" class=\"flex flex-col items-center justify-center h-64 p-6 text-center\">\r\n              <div class=\"w-16 h-16 bg-cyan-50 rounded-full flex items-center justify-center mb-6\">\r\n                <MessageCircle class=\"w-8 h-8 text-cyan-400\" />\r\n              </div>\r\n\r\n              <!-- Text Content -->\r\n              <h3 class=\"text-lg font-medium text-gray-700 mb-2\">\r\n                No Recent Discussions\r\n              </h3>\r\n              <p class=\"text-gray-500 text-sm mb-5 max-w-[700px]\">\r\n                Track real-time brand discussions and competitor mentions across the community.\r\n              </p>\r\n\r\n            </div>\r\n            <div v-else-if=\"filteredDiscussions.length > 0\" class=\"space-y-4\">\r\n              <Card\r\n                v-for=\"(discussion, index) in filteredDiscussions\"\r\n                :key=\"index\"\r\n                :class=\"cn(`bg-${getCompetitorColor(discussion.competitor)}-50 border-${getCompetitorColor(discussion.competitor)}-200 overflow-hidden`)\"\r\n              >\r\n                <CardContent class=\"p-4\">\r\n                  <div class=\"flex items-center justify-between mb-2\">\r\n                    <div class=\"flex items-center space-x-2\">\r\n                      <Avatar :class=\"cn(`bg-${getCompetitorColor(discussion.competitor)}-200`)\">\r\n                        <AvatarFallback>{{ discussion.competitor[0] }}</AvatarFallback>\r\n                      </Avatar>\r\n                      <div>\r\n                        <h4 :class=\"cn(`font-semibold text-${getCompetitorColor(discussion.competitor)}-800`)\">\r\n                          {{ discussion.competitor }}\r\n                        </h4>\r\n                        <p class=\"text-xs text-gray-500\">{{ discussion.forum }}  {{ discussion.time }}</p>\r\n                      </div>\r\n                    </div>\r\n                    <Badge\r\n                      variant=\"outline\"\r\n                      :class=\"cn(\r\n                        discussion.sentiment === 'positive' && 'border-green-500 bg-green-50 text-green-700',\r\n                        discussion.sentiment === 'negative' && 'border-red-500 bg-red-50 text-red-700',\r\n                        discussion.sentiment === 'neutral' && 'border-yellow-500 bg-yellow-50 text-yellow-700'\r\n                      )\"\r\n                    >\r\n                      <component \r\n                        :is=\"getSentimentIcon(discussion.sentiment)\" \r\n                        :class=\"cn(\r\n                          'mr-1 h-4 w-4',\r\n                          discussion.sentiment === 'positive' && 'text-green-700',\r\n                          discussion.sentiment === 'negative' && 'text-red-700',\r\n                          discussion.sentiment === 'neutral' && 'text-yellow-700'\r\n                        )\"\r\n                      />\r\n                      {{ discussion.sentiment }}\r\n                    </Badge>\r\n                  </div>\r\n                  <p class=\"text-sm text-gray-600 mb-2\">{{ discussion.content }}</p>\r\n                  <div class=\"flex justify-end\">\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      :class=\"cn(`text-${getCompetitorColor(discussion.competitor)}-600 hover:text-${getCompetitorColor(discussion.competitor)}-800`)\"\r\n                    >\r\n                      <ExternalLink class=\"h-4 w-4 mr-1\" />\r\n                      View Thread\r\n                    </Button>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n            <div class=\"mt-6 p-4 bg-gray-100 border border-gray-200 rounded-lg\">\r\n              <p class=\"text-sm text-gray-700 font-medium\">\r\n                Stay informed with real-time discussions about your brand and competitors. Quickly gauge sentiment and identify emerging topics or concerns in the community.\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </template>\r\n    </div>\r\n  </div>\r\n  <LoadingDialog v-model:open=\"showLoadingDialog\" />\r\n</template>\r\n"],"names":["props","__props","classNames","computed","cn","forwarded","useForwardPropsEmits","__emit","emits","delegatedProps","_","delegated","competitorService","response","axios","competitor","activities","activity","term","data","keywords","k","keyword","resolve","encodedTerm","CACHE_KEY","CACHE_DURATION","useCompetitorStore","defineStore","competitors","ref","sentimentData","priorityAlerts","recentDiscussions","forumActivities","selectedCompetitor","isLoading","error","scrapersRunning","loadCompetitorData","cached","timestamp","updateStoreData","fetchFreshData","e","setSelectedCompetitor","store","handleSelect","getTrendIcon","trend","TrendingUp","TrendingDown","Minus","getTrendClass","formatTrendPercentage","percentage","roundedPercentage","formattedValue","selectedData","_a","totalMentions","sum","forum","use","GridComponent","TooltipComponent","LegendComponent","BarChart","CanvasRenderer","competitorStore","pollingInterval","activeTab","activeSentiment","discussionTabs","startPolling","stopPolling","filteredDiscussions","discussion","matchesCompetitor","matchesSentiment","showAddPopover","newCompetitorName","addingCompetitor","addError","showLoadingDialog","deletingCompetitor","addCompetitor","result","checkData","c","deleteCompetitor","onMounted","firstCompetitor","onUnmounted","getCompetitorColor","competitorName","getSentimentIcon","sentiment","ThumbsUp","ThumbsDown","Meh","chartOption","item"],"mappings":"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"}