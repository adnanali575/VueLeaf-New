{"version":3,"file":"Settings-Cqk5wcQ1.js","sources":["../../src/views/dashboard/Settings.vue"],"sourcesContent":["<template>\r\n  <div class=\"flex-1 p-6\">\r\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      <div class=\"mb-8\">\r\n          <!-- Welcome Message -->\r\n          <div class=\"bg-white rounded-lg shadow-sm p-6 mb-8 flex items-start\">\r\n            <div class=\"flex-grow pr-6\">\r\n              <h2 class=\"text-2xl font-semibold text-gray-800 mb-4\">Welcome to Settings</h2>\r\n              <p class=\"text-gray-600 text-lg\">\r\n                Power your automated review responses by securely connecting your forum accounts. Add your login credentials for each platform to enable direct engagement with your community. Our system uses these secure connections to help your brand maintain an active presence across the growing space. Your credentials are encrypted and used solely for authorized responses.\r\n              </p>\r\n            </div>\r\n            <div class=\"hidden md:block w-48 flex-shrink-0\">\r\n              <img\r\n                :src=\"analyticsImage\"\r\n                alt=\"Settings Welcome Illustration\"\r\n                class=\"w-full h-auto\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Security Alert -->\r\n          <div class=\"bg-yellow-50 border border-yellow-300 rounded-lg p-6 mb-8 flex items-start\">\r\n            <div class=\"w-full\">\r\n              <h2 class=\"text-lg font-medium text-yellow-800 mb-2\">Important Security Information</h2>\r\n              <div class=\"text-base space-y-2 text-yellow-800\">\r\n                <p>These forum credentials enable automated brand monitoring and responses. We need this access to protect your reputation across platforms.</p>\r\n                <p>At VueLeaf, we treat your security as our highest priority. All passwords are encrypted using industry-standard methods before being stored in our database. We never store plaintext passwords, and our systems undergo regular security audits.</p>\r\n                <p>Remember to use strong, unique passwords for each forum to maximize your account security.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Add New Forum -->\r\n          <div class=\"bg-white rounded-lg shadow-sm mb-8\">\r\n            <div class=\"p-6\">\r\n              <div class=\"flex items-center gap-3 mb-6\">\r\n                <div class=\"flex items-center justify-center w-10 h-10 rounded-lg bg-emerald-50\">\r\n                  <Plus class=\"w-5 h-5 text-emerald-600\" />\r\n                </div>\r\n                <div>\r\n                  <h2 class=\"text-lg font-medium text-gray-700\">Add New Forum</h2>\r\n                  <p class=\"text-base text-gray-500\">Enter the details for a new forum to track.</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <form @submit.prevent=\"handleSubmit\" class=\"space-y-4\">\r\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <!-- Forum Selection -->\r\n                  <select \r\n                    v-model=\"form.forum\"\r\n                    class=\"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\r\n                  >\r\n                    <option value=\"\">Select Forum</option>\r\n                    <option v-for=\"forum in forums\" :key=\"forum.id\" :value=\"forum.id\">\r\n                      {{ forum.name }}\r\n                    </option>\r\n                  </select>\r\n\r\n                  <!-- Username -->\r\n                  <input \r\n                    type=\"text\"\r\n                    v-model=\"form.username\"\r\n                    placeholder=\"Username\"\r\n                    class=\"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\r\n                  />\r\n\r\n                  <!-- Password with toggle -->\r\n                  <div class=\"relative\">\r\n                    <input \r\n                      :type=\"showPassword ? 'text' : 'password'\"\r\n                      v-model=\"form.password\"\r\n                      placeholder=\"Password\"\r\n                      class=\"w-full rounded-md border border-gray-300 px-3 py-2 pr-10 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      @click=\"showPassword = !showPassword\"\r\n                      class=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\r\n                    >\r\n                      <component :is=\"showPassword ? EyeOff : Eye\" class=\"h-5 w-5 text-gray-400\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- Password Strength Indicator -->\r\n                <div v-if=\"form.password\" class=\"mt-2\">\r\n                  <div class=\"w-full bg-gray-200 h-1 rounded-full overflow-hidden\">\r\n                    <div \r\n                      :class=\"{\r\n                        'h-full transition-all duration-300': true,\r\n                        'bg-red-500': passwordStrength < 40,\r\n                        'bg-orange-500': passwordStrength >= 40 && passwordStrength < 60,\r\n                        'bg-yellow-500': passwordStrength >= 60 && passwordStrength < 80,\r\n                        'bg-green-500': passwordStrength >= 80\r\n                      }\"\r\n                      :style=\"{ width: `${passwordStrength}%` }\"\r\n                    />\r\n                  </div>\r\n                  <p class=\"text-xs mt-1 text-gray-600\">\r\n                    Password strength: \r\n                    <span :class=\"{\r\n                      'font-medium': true,\r\n                      'text-red-600': passwordStrength < 40,\r\n                      'text-orange-600': passwordStrength >= 40 && passwordStrength < 60,\r\n                      'text-yellow-600': passwordStrength >= 60 && passwordStrength < 80,\r\n                      'text-green-600': passwordStrength >= 80\r\n                    }\">\r\n                      {{ \r\n                        passwordStrength < 40 ? 'Weak' : \r\n                        passwordStrength < 60 ? 'Fair' : \r\n                        passwordStrength < 80 ? 'Good' : \r\n                        'Strong'\r\n                      }}\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n\r\n                <button \r\n                  type=\"submit\"\r\n                  class=\"bg-yellow-400 text-yellow-900 px-4 py-2 rounded-md hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 inline-flex items-center\"\r\n                  :disabled=\"loading\"\r\n                >\r\n                  <Plus class=\"h-4 w-4 mr-2\" />\r\n                  Add Forum\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Manage Credentials -->\r\n          <div class=\"bg-white rounded-lg shadow-sm\">\r\n            <div class=\"p-6\">\r\n              <div class=\"flex items-center gap-3 mb-6\">\r\n                <div class=\"flex items-center justify-center w-10 h-10 rounded-lg bg-emerald-50\">\r\n                  <Shield class=\"w-5 h-5 text-emerald-600\" />\r\n                </div>\r\n                <div>\r\n                  <h2 class=\"text-lg font-medium text-gray-700\">Manage Forum Credentials</h2>\r\n                  <p class=\"text-base text-gray-500\">View and manage your forum credentials.</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"overflow-x-auto\">\r\n                <table class=\"w-full\">\r\n                  <thead>\r\n                    <tr class=\"border-b\">\r\n                      <th class=\"text-left py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider border-y border-gray-200/50\">Forum</th>\r\n                      <th class=\"text-left py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider border-y border-gray-200/50\">Username</th>\r\n                      <th class=\"text-right py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider border-y border-gray-200/50\">Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"cred in credentials\" :key=\"cred.id\" class=\"border-b last:border-b-0 hover:bg-gray-50\">\r\n                      <td class=\"py-3 px-4\">\r\n                        <span :class=\"{\r\n                          'px-3 py-1 rounded text-sm font-medium': true,\r\n                          'bg-blue-100 text-blue-800': cred.forum === 'rollitup.org',\r\n                          'bg-green-100 text-green-800': cred.forum === 'thcfarmer.com',\r\n                          'bg-yellow-100 text-yellow-800': cred.forum === 'icmag.com',\r\n                          'bg-pink-100 text-pink-800': cred.forum === '420magazine.com',\r\n                          'bg-purple-100 text-purple-800': cred.forum === 'overgrow.com'\r\n                        }\">\r\n                          {{ getForum(cred.forum)?.name }}\r\n                        </span>\r\n                      </td>\r\n                      <td class=\"py-3 px-4\">\r\n                        <span class=\"bg-gray-100 text-gray-800 px-3 py-1 rounded text-sm font-medium\">\r\n                          {{ cred.username }}\r\n                        </span>\r\n                      </td>\r\n                      <td class=\"py-3 px-4 text-right\">\r\n                        <button \r\n                          @click=\"deleteCredentials(cred.id)\"\r\n                          class=\"bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 inline-flex items-center\"\r\n                          :disabled=\"deleting === cred.id\"\r\n                        >\r\n                          <Trash2 class=\"h-4 w-4\" />\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              <div class=\"mt-6\">\r\n                <button \r\n                  @click=\"handleSaveChanges\"\r\n                  class=\"bg-yellow-400 text-yellow-900 px-4 py-2 rounded-md hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 inline-flex items-center\"\r\n                >\r\n                  <Save class=\"h-4 w-4 mr-2\" />\r\n                  Save Changes\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport analyticsImage from '@/assets/images/analytics/analytics-green.png'\r\nimport { Bell, Plus, Trash2, Save, Eye, EyeOff, Shield } from 'lucide-vue-next'\r\nimport { useToast } from '@/composables/useToast'\r\nimport axios from '@/lib/axios'\r\n\r\nconst toast = useToast()\r\n\r\n// User info (replace with actual user data from your auth store)\r\nconst username = ref('John Doe')\r\nconst userInitials = computed(() => {\r\n  return username.value\r\n    .split(' ')\r\n    .map(n => n[0])\r\n    .join('')\r\n    .toUpperCase()\r\n})\r\n\r\n// Forum options\r\nconst forums = [\r\n  { id: 'rollitup.org', name: 'RollItUp (Xenforo)' },\r\n  { id: 'thcfarmer.com', name: 'THC Farmer (Xenforo)' },\r\n  { id: 'icmag.com', name: 'ICMag (Xenforo)' },\r\n  { id: '420magazine.com', name: '420 Magazine (Xenforo)' },\r\n  { id: 'overgrow.com', name: 'Overgrow (Discourse)' },\r\n  { id: 'ilgmforum.com', name: 'ILGM Forum (Discourse)' },\r\n  { id: 'homegrowncannabisco.community', name: 'Homegrown Cannabis Co (Discourse)' },\r\n  { id: 'growersnetwork.org', name: 'Growers Network (Discourse)' },\r\n  { id: 'reddit.com', name: 'Reddit' }\r\n]\r\n\r\n// Form state\r\nconst form = ref({\r\n  forum: '',\r\n  username: '',\r\n  password: ''\r\n})\r\n\r\n// UI state\r\nconst showPassword = ref(false)\r\nconst loading = ref(false)\r\nconst deleting = ref<string | null>(null)\r\nconst credentials = ref<any[]>([])\r\n\r\n// Password strength calculation\r\nconst passwordStrength = computed(() => {\r\n  const password = form.value.password\r\n  if (!password) return 0\r\n  \r\n  let score = 0\r\n  \r\n  // Length check\r\n  if (password.length > 0) score += 20\r\n  if (password.length > 8) score += 20\r\n  \r\n  // Character type checks\r\n  if (/[a-z]/.test(password)) score += 15\r\n  if (/[A-Z]/.test(password)) score += 15\r\n  if (/[0-9]/.test(password)) score += 15\r\n  if (/[^A-Za-z0-9]/.test(password)) score += 15\r\n  \r\n  return Math.min(100, score)\r\n})\r\n\r\n// Get forum details by ID\r\nconst getForum = (id: string) => forums.find(f => f.id === id)\r\n\r\n// Load saved credentials\r\nconst loadCredentials = async () => {\r\n  try {\r\n    const response = await axios.get('/forum-credentials/')\r\n    credentials.value = response.data\r\n  } catch (error) {\r\n    toast.error('Failed to load credentials')\r\n  }\r\n}\r\n\r\n// Handle form submission\r\nconst handleSubmit = async () => {\r\n  if (!form.value.forum || !form.value.username || !form.value.password) {\r\n    toast.error('Please fill in all fields')\r\n    return\r\n  }\r\n\r\n  loading.value = true\r\n  try {\r\n    await axios.post('/forum-credentials/', form.value)\r\n    toast.success('Credentials saved successfully')\r\n    await loadCredentials()\r\n    form.value = { forum: '', username: '', password: '' }\r\n  } catch (error: any) {\r\n    if (error.response?.data?.username) {\r\n      toast.error(error.response.data.username[0])\r\n    } else {\r\n      toast.error('Failed to save credentials')\r\n    }\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// Delete credentials\r\nconst deleteCredentials = async (id: string) => {\r\n  if (!confirm('Are you sure you want to delete these credentials?')) return\r\n\r\n  deleting.value = id\r\n  try {\r\n    await axios.delete(`/forum-credentials/${id}/`)\r\n    toast.success('Credentials deleted successfully')\r\n    await loadCredentials()\r\n  } catch (error) {\r\n    toast.error('Failed to delete credentials')\r\n  } finally {\r\n    deleting.value = null\r\n  }\r\n}\r\n\r\n// Save all changes\r\nconst handleSaveChanges = async () => {\r\n  try {\r\n    // Here you would typically send the updated forums data to your backend\r\n    toast.success('Changes saved successfully')\r\n  } catch (error) {\r\n    toast.error('Failed to save changes')\r\n  }\r\n}\r\n\r\n// Load credentials on mount\r\nonMounted(loadCredentials)\r\n</script>\r\n"],"names":["toast","useToast","username","ref","computed","n","forums","form","showPassword","loading","deleting","credentials","passwordStrength","password","score","getForum","id","f","loadCredentials","response","axios","handleSubmit","error","_b","_a","deleteCredentials","handleSaveChanges","onMounted"],"mappings":"65CAgNA,MAAMA,EAAQC,EAAS,EAGjBC,EAAWC,EAAI,UAAU,EACVC,EAAS,IACrBF,EAAS,MACb,MAAM,GAAG,EACT,IAAIG,GAAKA,EAAE,CAAC,CAAC,EACb,KAAK,EAAE,EACP,YAAY,CAChB,EAGD,MAAMC,EAAS,CACb,CAAE,GAAI,eAAgB,KAAM,oBAAqB,EACjD,CAAE,GAAI,gBAAiB,KAAM,sBAAuB,EACpD,CAAE,GAAI,YAAa,KAAM,iBAAkB,EAC3C,CAAE,GAAI,kBAAmB,KAAM,wBAAyB,EACxD,CAAE,GAAI,eAAgB,KAAM,sBAAuB,EACnD,CAAE,GAAI,gBAAiB,KAAM,wBAAyB,EACtD,CAAE,GAAI,gCAAiC,KAAM,mCAAoC,EACjF,CAAE,GAAI,qBAAsB,KAAM,6BAA8B,EAChE,CAAE,GAAI,aAAc,KAAM,QAAS,CACrC,EAGMC,EAAOJ,EAAI,CACf,MAAO,GACP,SAAU,GACV,SAAU,EAAA,CACX,EAGKK,EAAeL,EAAI,EAAK,EACxBM,EAAUN,EAAI,EAAK,EACnBO,EAAWP,EAAmB,IAAI,EAClCQ,EAAcR,EAAW,EAAE,EAG3BS,EAAmBR,EAAS,IAAM,CAChC,MAAAS,EAAWN,EAAK,MAAM,SAC5B,GAAI,CAACM,EAAiB,MAAA,GAEtB,IAAIC,EAAQ,EAGZ,OAAID,EAAS,OAAS,IAAYC,GAAA,IAC9BD,EAAS,OAAS,IAAYC,GAAA,IAG9B,QAAQ,KAAKD,CAAQ,IAAYC,GAAA,IACjC,QAAQ,KAAKD,CAAQ,IAAYC,GAAA,IACjC,QAAQ,KAAKD,CAAQ,IAAYC,GAAA,IACjC,eAAe,KAAKD,CAAQ,IAAYC,GAAA,IAErC,KAAK,IAAI,IAAKA,CAAK,CAAA,CAC3B,EAGKC,EAAYC,GAAeV,EAAO,KAAUW,GAAAA,EAAE,KAAOD,CAAE,EAGvDE,EAAkB,SAAY,CAC9B,GAAA,CACF,MAAMC,EAAW,MAAMC,EAAM,IAAI,qBAAqB,EACtDT,EAAY,MAAQQ,EAAS,UACf,CACdnB,EAAM,MAAM,4BAA4B,CAAA,CAE5C,EAGMqB,EAAe,SAAY,SAC3B,GAAA,CAACd,EAAK,MAAM,OAAS,CAACA,EAAK,MAAM,UAAY,CAACA,EAAK,MAAM,SAAU,CACrEP,EAAM,MAAM,2BAA2B,EACvC,MAAA,CAGFS,EAAQ,MAAQ,GACZ,GAAA,CACF,MAAMW,EAAM,KAAK,sBAAuBb,EAAK,KAAK,EAClDP,EAAM,QAAQ,gCAAgC,EAC9C,MAAMkB,EAAgB,EACtBX,EAAK,MAAQ,CAAE,MAAO,GAAI,SAAU,GAAI,SAAU,EAAG,QAC9Ce,EAAY,EACfC,GAAAC,EAAAF,EAAM,WAAN,YAAAE,EAAgB,OAAhB,MAAAD,EAAsB,SACxBvB,EAAM,MAAMsB,EAAM,SAAS,KAAK,SAAS,CAAC,CAAC,EAE3CtB,EAAM,MAAM,4BAA4B,CAC1C,QACA,CACAS,EAAQ,MAAQ,EAAA,CAEpB,EAGMgB,EAAoB,MAAOT,GAAe,CAC1C,GAAC,QAAQ,oDAAoD,EAEjE,CAAAN,EAAS,MAAQM,EACb,GAAA,CACF,MAAMI,EAAM,OAAO,sBAAsBJ,CAAE,GAAG,EAC9ChB,EAAM,QAAQ,kCAAkC,EAChD,MAAMkB,EAAgB,OACR,CACdlB,EAAM,MAAM,8BAA8B,CAAA,QAC1C,CACAU,EAAS,MAAQ,IAAA,EAErB,EAGMgB,EAAoB,SAAY,CAChC,GAAA,CAEF1B,EAAM,QAAQ,4BAA4B,OAC5B,CACdA,EAAM,MAAM,wBAAwB,CAAA,CAExC,EAGA,OAAA2B,EAAUT,CAAe"}