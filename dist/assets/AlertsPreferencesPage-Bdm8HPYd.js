import{k as S,bW as k,d as E,I as _,bX as ye,bY as R,bZ as he,b_ as xe,b$ as _e,c0 as Se,c1 as Oe,c2 as Y,o as K,J as me,c3 as ie,c4 as ke,c5 as Pe,c6 as Te,c7 as Ve,c8 as X,c9 as De,F as be,ca as te,cb as Le,cc as Fe,cd as se,b7 as Ne,ce as Ie,bU as A,cf as Re,cg as $e,ch as D,ci as x,g as z,q as oe,w as f,b as c,a as u,t as ee,e as O,c as Z,r as qe,p as ae,cj as Ce,aY as G,x as M,n as ne,ba as je,C as re,h,aZ as V,ck as j,y as ue,M as Ae,O as Ue,z as ze,ag as Ee,aQ as Me,b5 as de}from"./main-Dr4KW1PH.js";import{_ as B,a as H}from"./CardContent.vue_vue_type_script_setup_true_lang-DIvyJq6m.js";import{_ as W}from"./CardTitle.vue_vue_type_script_setup_true_lang-Np9iXpuv.js";import{_ as Q}from"./CardDescription.vue_vue_type_script_setup_true_lang-CeI5KHdV.js";import{T as Be}from"./trending-up-Eezzwpy6.js";function ce(e){return[e.screenX,e.screenY]}function He(){let e=S([-1,-1]);return{wasMoved(o){let s=ce(o);return e.value[0]===s[0]&&e.value[1]===s[1]?!1:(e.value=s,!0)},update(o){e.value=ce(o)}}}function We(e){throw new Error("Unexpected object: "+e)}var P=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(P||{});function Qe(e,o){let s=o.resolveItems();if(s.length<=0)return null;let r=o.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let a=0;a<s.length;++a)if(!o.resolveDisabled(s[a],a,s))return a;return r}case 1:{i===-1&&(i=s.length);for(let a=i-1;a>=0;--a)if(!o.resolveDisabled(s[a],a,s))return a;return r}case 2:{for(let a=i+1;a<s.length;++a)if(!o.resolveDisabled(s[a],a,s))return a;return r}case 3:{for(let a=s.length-1;a>=0;--a)if(!o.resolveDisabled(s[a],a,s))return a;return r}case 4:{for(let a=0;a<s.length;++a)if(o.resolveId(s[a],a,s)===e.id)return a;return r}case 5:return null;default:We(e)}}let ve=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function fe(e){var o,s;let r=(o=e.innerText)!=null?o:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let a=!1;for(let g of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))g.remove(),a=!0;let t=a?(s=i.innerText)!=null?s:"":r;return ve.test(t)&&(t=t.replace(ve,"")),t}function Ze(e){let o=e.getAttribute("aria-label");if(typeof o=="string")return o.trim();let s=e.getAttribute("aria-labelledby");if(s){let r=s.split(" ").map(i=>{let a=document.getElementById(i);if(a){let t=a.getAttribute("aria-label");return typeof t=="string"?t.trim():fe(a).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return fe(e).trim()}function Ye(e){let o=S(""),s=S("");return()=>{let r=k(e);if(!r)return"";let i=r.innerText;if(o.value===i)return s.value;let a=Ze(r).trim().toLowerCase();return o.value=i,s.value=a,a}}function Ke(e,o){return e===o}var Xe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Xe||{}),Je=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Je||{}),Ge=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ge||{});function et(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let ge=Symbol("ListboxContext");function J(e){let o=Re(ge,null);if(o===null){let s=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,J),s}return o}let tt=E({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Ke},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:o,attrs:s,emit:r}){let i=S(1),a=S(null),t=S(null),g=S(null),y=S([]),p=S(""),l=S(null),n=S(1);function m(d=v=>v){let v=l.value!==null?y.value[l.value]:null,b=$e(d(y.value.slice()),T=>k(T.dataRef.domRef)),w=v?b.indexOf(v):null;return w===-1&&(w=null),{options:b,activeOptionIndex:w}}let F=_(()=>e.multiple?1:0),[N,L]=ye(_(()=>e.modelValue),d=>r("update:modelValue",d),_(()=>e.defaultValue)),$=_(()=>N.value===void 0?R(F.value,{1:[],0:void 0}):N.value),I={listboxState:i,value:$,mode:F,compare(d,v){if(typeof e.by=="string"){let b=e.by;return(d==null?void 0:d[b])===(v==null?void 0:v[b])}return e.by(d,v)},orientation:_(()=>e.horizontal?"horizontal":"vertical"),labelRef:a,buttonRef:t,optionsRef:g,disabled:_(()=>e.disabled),options:y,searchQuery:p,activeOptionIndex:l,activationTrigger:n,closeListbox(){e.disabled||i.value!==1&&(i.value=1,l.value=null)},openListbox(){e.disabled||i.value!==0&&(i.value=0)},goToOption(d,v,b){if(e.disabled||i.value===1)return;let w=m(),T=Qe(d===P.Specific?{focus:P.Specific,id:v}:{focus:d},{resolveItems:()=>w.options,resolveActiveIndex:()=>w.activeOptionIndex,resolveId:C=>C.id,resolveDisabled:C=>C.dataRef.disabled});p.value="",l.value=T,n.value=b??1,y.value=w.options},search(d){if(e.disabled||i.value===1)return;let v=p.value!==""?0:1;p.value+=d.toLowerCase();let b=(l.value!==null?y.value.slice(l.value+v).concat(y.value.slice(0,l.value+v)):y.value).find(T=>T.dataRef.textValue.startsWith(p.value)&&!T.dataRef.disabled),w=b?y.value.indexOf(b):-1;w===-1||w===l.value||(l.value=w,n.value=1)},clearSearch(){e.disabled||i.value!==1&&p.value!==""&&(p.value="")},registerOption(d,v){let b=m(w=>[...w,{id:d,dataRef:v}]);y.value=b.options,l.value=b.activeOptionIndex},unregisterOption(d){let v=m(b=>{let w=b.findIndex(T=>T.id===d);return w!==-1&&b.splice(w,1),b});y.value=v.options,l.value=v.activeOptionIndex,n.value=1},theirOnChange(d){e.disabled||L(d)},select(d){e.disabled||L(R(F.value,{0:()=>d,1:()=>{let v=D(I.value.value).slice(),b=D(d),w=v.findIndex(T=>I.compare(b,D(T)));return w===-1?v.push(b):v.splice(w,1),v}}))}};he([t,g],(d,v)=>{var b;I.closeListbox(),xe(v,_e.Loose)||(d.preventDefault(),(b=k(t))==null||b.focus())},_(()=>i.value===0)),Se(ge,I),Oe(_(()=>R(i.value,{0:Y.Open,1:Y.Closed})));let q=_(()=>{var d;return(d=k(t))==null?void 0:d.closest("form")});return K(()=>{me([q],()=>{if(!q.value||e.defaultValue===void 0)return;function d(){I.theirOnChange(e.defaultValue)}return q.value.addEventListener("reset",d),()=>{var v;(v=q.value)==null||v.removeEventListener("reset",d)}},{immediate:!0})}),()=>{let{name:d,modelValue:v,disabled:b,form:w,...T}=e,C={open:i.value===0,disabled:b,value:$.value};return ie(be,[...d!=null&&$.value!=null?ke({[d]:$.value}).map(([le,we])=>ie(Pe,Te({features:Ve.Hidden,key:le,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:w,name:le,value:we}))):[],X({ourProps:{},theirProps:{...s,...De(T,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:C,slots:o,attrs:s,name:"Listbox"})])}}}),lt=E({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:o,slots:s,expose:r}){var i;let a=(i=e.id)!=null?i:`headlessui-listbox-button-${te()}`,t=J("ListboxButton");r({el:t.buttonRef,$el:t.buttonRef});function g(n){switch(n.key){case x.Space:case x.Enter:case x.ArrowDown:n.preventDefault(),t.openListbox(),A(()=>{var m;(m=k(t.optionsRef))==null||m.focus({preventScroll:!0}),t.value.value||t.goToOption(P.First)});break;case x.ArrowUp:n.preventDefault(),t.openListbox(),A(()=>{var m;(m=k(t.optionsRef))==null||m.focus({preventScroll:!0}),t.value.value||t.goToOption(P.Last)});break}}function y(n){switch(n.key){case x.Space:n.preventDefault();break}}function p(n){t.disabled.value||(t.listboxState.value===0?(t.closeListbox(),A(()=>{var m;return(m=k(t.buttonRef))==null?void 0:m.focus({preventScroll:!0})})):(n.preventDefault(),t.openListbox(),et(()=>{var m;return(m=k(t.optionsRef))==null?void 0:m.focus({preventScroll:!0})})))}let l=Le(_(()=>({as:e.as,type:o.type})),t.buttonRef);return()=>{var n,m;let F={open:t.listboxState.value===0,disabled:t.disabled.value,value:t.value.value},{...N}=e,L={ref:t.buttonRef,id:a,type:l.value,"aria-haspopup":"listbox","aria-controls":(n=k(t.optionsRef))==null?void 0:n.id,"aria-expanded":t.listboxState.value===0,"aria-labelledby":t.labelRef.value?[(m=k(t.labelRef))==null?void 0:m.id,a].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:g,onKeyup:y,onClick:p};return X({ourProps:L,theirProps:N,slot:F,attrs:o,slots:s,name:"ListboxButton"})}}}),it=E({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:o,slots:s,expose:r}){var i;let a=(i=e.id)!=null?i:`headlessui-listbox-options-${te()}`,t=J("ListboxOptions"),g=S(null);r({el:t.optionsRef,$el:t.optionsRef});function y(n){switch(g.value&&clearTimeout(g.value),n.key){case x.Space:if(t.searchQuery.value!=="")return n.preventDefault(),n.stopPropagation(),t.search(n.key);case x.Enter:if(n.preventDefault(),n.stopPropagation(),t.activeOptionIndex.value!==null){let m=t.options.value[t.activeOptionIndex.value];t.select(m.dataRef.value)}t.mode.value===0&&(t.closeListbox(),A(()=>{var m;return(m=k(t.buttonRef))==null?void 0:m.focus({preventScroll:!0})}));break;case R(t.orientation.value,{vertical:x.ArrowDown,horizontal:x.ArrowRight}):return n.preventDefault(),n.stopPropagation(),t.goToOption(P.Next);case R(t.orientation.value,{vertical:x.ArrowUp,horizontal:x.ArrowLeft}):return n.preventDefault(),n.stopPropagation(),t.goToOption(P.Previous);case x.Home:case x.PageUp:return n.preventDefault(),n.stopPropagation(),t.goToOption(P.First);case x.End:case x.PageDown:return n.preventDefault(),n.stopPropagation(),t.goToOption(P.Last);case x.Escape:n.preventDefault(),n.stopPropagation(),t.closeListbox(),A(()=>{var m;return(m=k(t.buttonRef))==null?void 0:m.focus({preventScroll:!0})});break;case x.Tab:n.preventDefault(),n.stopPropagation();break;default:n.key.length===1&&(t.search(n.key),g.value=setTimeout(()=>t.clearSearch(),350));break}}let p=Fe(),l=_(()=>p!==null?(p.value&Y.Open)===Y.Open:t.listboxState.value===0);return()=>{var n,m;let F={open:t.listboxState.value===0},{...N}=e,L={"aria-activedescendant":t.activeOptionIndex.value===null||(n=t.options.value[t.activeOptionIndex.value])==null?void 0:n.id,"aria-multiselectable":t.mode.value===1?!0:void 0,"aria-labelledby":(m=k(t.buttonRef))==null?void 0:m.id,"aria-orientation":t.orientation.value,id:a,onKeydown:y,role:"listbox",tabIndex:0,ref:t.optionsRef};return X({ourProps:L,theirProps:N,slot:F,attrs:o,slots:s,features:se.RenderStrategy|se.Static,visible:l.value,name:"ListboxOptions"})}}}),st=E({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:o,attrs:s,expose:r}){var i;let a=(i=e.id)!=null?i:`headlessui-listbox-option-${te()}`,t=J("ListboxOption"),g=S(null);r({el:g,$el:g});let y=_(()=>t.activeOptionIndex.value!==null?t.options.value[t.activeOptionIndex.value].id===a:!1),p=_(()=>R(t.mode.value,{0:()=>t.compare(D(t.value.value),D(e.value)),1:()=>D(t.value.value).some(d=>t.compare(D(d),D(e.value)))})),l=_(()=>R(t.mode.value,{1:()=>{var d;let v=D(t.value.value);return((d=t.options.value.find(b=>v.some(w=>t.compare(D(w),D(b.dataRef.value)))))==null?void 0:d.id)===a},0:()=>p.value})),n=Ye(g),m=_(()=>({disabled:e.disabled,value:e.value,get textValue(){return n()},domRef:g}));K(()=>t.registerOption(a,m)),Ne(()=>t.unregisterOption(a)),K(()=>{me([t.listboxState,p],()=>{t.listboxState.value===0&&p.value&&R(t.mode.value,{1:()=>{l.value&&t.goToOption(P.Specific,a)},0:()=>{t.goToOption(P.Specific,a)}})},{immediate:!0})}),Ie(()=>{t.listboxState.value===0&&y.value&&t.activationTrigger.value!==0&&A(()=>{var d,v;return(v=(d=k(g))==null?void 0:d.scrollIntoView)==null?void 0:v.call(d,{block:"nearest"})})});function F(d){if(e.disabled)return d.preventDefault();t.select(e.value),t.mode.value===0&&(t.closeListbox(),A(()=>{var v;return(v=k(t.buttonRef))==null?void 0:v.focus({preventScroll:!0})}))}function N(){if(e.disabled)return t.goToOption(P.Nothing);t.goToOption(P.Specific,a)}let L=He();function $(d){L.update(d)}function I(d){L.wasMoved(d)&&(e.disabled||y.value||t.goToOption(P.Specific,a,0))}function q(d){L.wasMoved(d)&&(e.disabled||y.value&&t.goToOption(P.Nothing))}return()=>{let{disabled:d}=e,v={active:y.value,selected:p.value,disabled:d},{value:b,disabled:w,...T}=e,C={id:a,ref:g,role:"option",tabIndex:d===!0?void 0:-1,"aria-disabled":d===!0?!0:void 0,"aria-selected":p.value,disabled:void 0,onClick:F,onFocus:N,onPointerenter:$,onMouseenter:$,onPointermove:I,onMousemove:I,onPointerleave:q,onMouseleave:q};return X({ourProps:C,theirProps:T,slot:v,attrs:s,slots:o,name:"ListboxOption"})}}});const ot={class:"relative"},at={class:"block truncate"},pe=E({__name:"index",props:{modelValue:{},options:{},placeholder:{}},emits:["update:modelValue"],setup(e,{emit:o}){const s=e,r=o,i=_(()=>s.options.find(a=>a.value===s.modelValue));return(a,t)=>(z(),oe(O(tt),{"model-value":a.modelValue,"onUpdate:modelValue":t[0]||(t[0]=g=>r("update:modelValue",g))},{default:f(()=>[c("div",ot,[u(O(lt),{class:"relative w-full cursor-pointer rounded-lg bg-white py-2 pl-3 pr-10 text-left border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-green-600 sm:text-sm"},{default:f(()=>{var g;return[c("span",at,ee(((g=i.value)==null?void 0:g.label)||a.placeholder||"Select an option"),1),t[1]||(t[1]=c("span",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},[c("svg",{class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor"},[c("path",{d:"M7 7l3-3 3 3m0 6l-3 3-3-3",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})])],-1))]}),_:1}),u(Ce,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:f(()=>[u(O(it),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:f(()=>[(z(!0),Z(be,null,qe(a.options,g=>(z(),oe(O(st),{key:g.value,value:g.value},{default:f(({active:y,selected:p})=>[c("li",{class:ae([y?"bg-green-600 text-white":"text-gray-900","relative cursor-pointer select-none py-2 pl-3 pr-9"])},[c("span",{class:ae([p?"font-semibold":"font-normal","block truncate"])},ee(g.label),3)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["model-value"]))}});async function nt(e,o){if(!("Notification"in window)){console.log("Browser does not support notifications");return}let s=Notification.permission;if(s==="default"&&(s=await Notification.requestPermission()),s==="granted"){const r=new Notification(e,{body:o,icon:"/vite.svg"});r.onclick=function(i){i.preventDefault(),window.focus(),r.close()}}else console.log("Notification permission denied")}const rt={Slidedown:{promptPush:async()=>{if(console.log("Mock: promptPush called"),"Notification"in window){const e=await Notification.requestPermission();console.log("Browser notification permission:",e)}return Promise.resolve()}},User:{PushSubscription:{optIn:async()=>{if(console.log("Mock: optIn called"),"Notification"in window){const e=await Notification.requestPermission();console.log("Browser notification permission:",e)}return Promise.resolve()},optOut:async()=>(console.log("Mock: optOut called"),Promise.resolve()),getSubscription:async()=>{console.log("Mock: getSubscription called");const e=Notification.permission==="granted";return{optedIn:e,token:e?"mock-token":null}},present:async()=>{console.log("Mock: present called");const e=Notification.permission==="granted";return{optedIn:e,token:e?"mock-token":null}},token:null,optedIn:Notification.permission==="granted",addEventListener:(e,o)=>{if(console.log("Mock: addEventListener called for event:",e),e==="change"){const s=Notification.permission==="granted";o({current:{token:s?"mock-token":null,optedIn:s},previous:{token:null,optedIn:!1}})}}}},Notifications:{isSubscribed:async()=>(console.log("Mock: isSubscribed called"),Notification.permission==="granted"),permission:Notification.permission},init:async e=>(console.log("Mock: init called with config:",e),Promise.resolve())},U={currentSubscriptionState:{token:null,optedIn:!1},async waitForOneSignal(){if(window.location.hostname==="localhost")return console.log("Using mock OneSignal for development"),rt;for(let o=0;o<100;o++){if(window.OneSignal)return window.OneSignal;await new Promise(s=>setTimeout(s,100))}throw new Error("OneSignal failed to initialize")},async initialize(){var e,o,s;try{const r=await this.waitForOneSignal();if((e=r.User)!=null&&e.PushSubscription){const i=r.User.PushSubscription;this.currentSubscriptionState={token:i.token,optedIn:i.optedIn}}return(s=(o=r.User)==null?void 0:o.PushSubscription)==null||s.addEventListener("change",i=>{console.log("Push subscription changed:",i),this.currentSubscriptionState={token:i.current.token,optedIn:i.current.optedIn}}),!0}catch(r){throw console.error("Failed to initialize OneSignal:",r),r}},async updateSubscription(e){var o;try{const s=await this.waitForOneSignal();e?await s.Slidedown.promptPush():(o=s.User)!=null&&o.PushSubscription&&await s.User.PushSubscription.optOut(),console.log("Push subscription updated:",e)}catch(s){throw console.error("Failed to update subscription:",s),s}},async updatePreferences(e){try{await G.put("/users/update_profile/",e)}catch(o){throw console.error("Failed to update preferences:",o),o}},async sendTestNotification(){var e;try{const o=window.location.hostname==="localhost",s=await this.waitForOneSignal();if(!s.User.PushSubscription.optedIn){await s.Slidedown.promptPush();return}const i=await G.post("/users/test_notification/");if(o&&((e=i.data)!=null&&e.notifications))for(const a of i.data.notifications)await nt(a.title,a.message)}catch(o){throw console.error("Failed to send test notification:",o),o}},async getPreferences(){try{const e=await G.get("/users/profile/");return{push_enabled:e.data.push_enabled,new_review_alerts:e.data.new_review_alerts,negative_review_alerts:e.data.negative_review_alerts,response_reminders:e.data.response_reminders,positive_review_alerts:e.data.positive_review_alerts,review_milestones:e.data.review_milestones,trend_alerts:e.data.trend_alerts,notification_frequency:e.data.notification_frequency,time_zone:e.data.time_zone,quiet_hours_start:e.data.quiet_hours_start,quiet_hours_end:e.data.quiet_hours_end}}catch(e){throw console.error("Failed to get preferences:",e),e}}},ut="/assets/social-media-Dnw-aomW.png",dt={class:"flex-1 flex flex-col"},ct={class:"flex-1 overflow-y-auto p-6 min-h-screen"},vt={key:0,class:"flex justify-center items-center min-h-[400px]"},ft={key:1,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6"},pt={class:"mb-8 bg-white rounded-lg shadow-sm p-6"},mt={class:"flex flex-col md:flex-row items-center gap-6"},bt={class:"w-48 h-48 flex-shrink-0 relative"},gt=["src"],wt={class:"flex items-center gap-3"},yt={class:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100"},ht={class:"flex items-center justify-between"},xt={class:"flex items-center justify-between"},_t={class:"flex justify-end mt-4"},St={class:"flex items-center gap-3"},Ot={class:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100"},kt={class:"flex items-center justify-between"},Pt={class:"flex items-center space-x-2"},Tt={class:"flex items-center justify-between"},Vt={class:"flex items-center space-x-2"},Dt={class:"flex items-center justify-between"},Lt={class:"flex items-center space-x-2"},Ft={class:"flex items-center justify-between"},Nt={class:"flex items-center space-x-2"},It={class:"flex items-center justify-between"},Rt={class:"flex items-center space-x-2"},$t={class:"flex items-center justify-between"},qt={class:"flex items-center space-x-2"},Ct={class:"flex items-center gap-3"},jt={class:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100"},At={class:"space-y-2"},Ut={class:"flex items-center gap-3"},zt={class:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100"},Et={class:"space-y-2"},Mt={class:"space-y-2"},Bt={class:"flex space-x-4"},Ht={class:"flex-1"},Wt={class:"flex-1"},Qt={class:"flex justify-end"},Gt=E({__name:"AlertsPreferencesPage",setup(e){const o=je(),s=S(!1),r=S(!1),i=S({push_enabled:!0,new_review_alerts:!0,negative_review_alerts:!0,response_reminders:!0,positive_review_alerts:!1,review_milestones:!0,trend_alerts:!0,notification_frequency:"weekly",time_zone:"UTC",quiet_hours_start:null,quiet_hours_end:null}),a=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time"},{value:"America/Chicago",label:"Central Time"},{value:"America/Denver",label:"Mountain Time"},{value:"America/Los_Angeles",label:"Pacific Time"}];K(async()=>{s.value=!0;try{await U.initialize(),console.log("OneSignal initialized successfully");const p=await U.getPreferences();i.value=p}catch(p){console.error("Failed to initialize:",p),o.error("Failed to initialize notifications")}finally{s.value=!1}});const t=async p=>{r.value=!0;try{await U.updateSubscription(p),o.success(`Push notifications ${p?"enabled":"disabled"}`)}catch(l){console.error("Failed to toggle push notifications:",l),i.value.push_enabled=!p,l instanceof Error?o.error(l.message):o.error("Failed to update push notification settings")}finally{r.value=!1}},g=async()=>{r.value=!0;try{await U.updateSubscription(i.value.push_enabled),await U.updatePreferences(i.value),o.success("Preferences saved successfully")}catch(p){o.error("Failed to save preferences"),console.error("Failed to save preferences:",p)}finally{r.value=!1}},y=async()=>{r.value=!0;try{if(!i.value.push_enabled)throw new Error("Please enable push notifications first");await U.sendTestNotification(),o.success("Test notification sent")}catch(p){console.error("Failed to send test notification:",p),p instanceof Error?o.error(p.message):o.error("Failed to send test notification")}finally{r.value=!1}};return(p,l)=>(z(),Z("div",dt,[c("div",ct,[s.value?(z(),Z("div",vt,l[11]||(l[11]=[c("div",{class:"text-center"},[c("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-800 mb-4"}),c("p",{class:"text-gray-600"},"Loading preferences...")],-1)]))):(z(),Z("div",ft,[c("div",pt,[c("div",mt,[l[12]||(l[12]=c("div",{class:"flex-1"},[c("h1",{class:"text-xl md:text-2xl font-medium text-green-800 mb-2"}," Welcome to your Alerts Preferences! "),c("p",{class:"text-gray-600 text-lg"}," Here you can customize how you stay informed about your brand's presence in the cannabis community. Choose which notifications matter most to you, from new reviews to trend alerts, set your preferred frequency, and configure your time zone and quiet hours. Take a moment to fine-tune these settings to ensure you get the right information at the right time. ")],-1)),c("div",bt,[c("img",{src:O(ut),alt:"Communication illustration",class:"w-full h-full object-contain"},null,8,gt)])])]),u(M,null,{default:f(()=>[u(B,null,{default:f(()=>[c("div",wt,[c("div",yt,[u(O(re),{class:"w-5 h-5 text-gray-500"})]),c("div",null,[u(W,{class:"text-lg font-medium text-gray-700"},{default:f(()=>l[13]||(l[13]=[h("Push Notifications")])),_:1}),u(Q,{class:"text-base text-gray-500"},{default:f(()=>l[14]||(l[14]=[h("Enable or disable push notifications.")])),_:1})])])]),_:1}),u(H,{class:"space-y-6 pt-4"},{default:f(()=>[c("div",ht,[c("div",xt,[u(V,{"html-for":"push-enabled"},{default:f(()=>l[15]||(l[15]=[h("Enable Push Notifications")])),_:1}),u(j,{id:"push-enabled",modelValue:i.value.push_enabled,"onUpdate:modelValue":[l[0]||(l[0]=n=>i.value.push_enabled=n),t],disabled:r.value},null,8,["modelValue","disabled"])]),c("div",_t,[u(ne,{onClick:y,disabled:!i.value.push_enabled||r.value,variant:"outline",size:"sm"},{default:f(()=>l[16]||(l[16]=[h(" Send Test Notification ")])),_:1},8,["disabled"])])])]),_:1})]),_:1}),u(M,null,{default:f(()=>[u(B,null,{default:f(()=>[c("div",St,[c("div",Ot,[u(O(ue),{class:"w-5 h-5 text-gray-500"})]),c("div",null,[u(W,{class:"text-lg font-medium text-gray-700"},{default:f(()=>l[17]||(l[17]=[h("Notification Triggers")])),_:1}),u(Q,{class:"text-base text-gray-500"},{default:f(()=>l[18]||(l[18]=[h("Choose which events warrant notifications.")])),_:1})])])]),_:1}),u(H,{class:"space-y-6 pt-4"},{default:f(()=>[c("div",kt,[c("div",Pt,[u(O(re),{class:"h-5 w-5 text-blue-500"}),u(V,{"html-for":"new-reviews"},{default:f(()=>l[19]||(l[19]=[h("New Review Alerts")])),_:1})]),u(j,{id:"new-reviews",modelValue:i.value.new_review_alerts,"onUpdate:modelValue":l[1]||(l[1]=n=>i.value.new_review_alerts=n),disabled:r.value},null,8,["modelValue","disabled"])]),c("div",Tt,[c("div",Vt,[u(O(ue),{class:"h-5 w-5 text-red-500"}),u(V,{"html-for":"negative-reviews"},{default:f(()=>l[20]||(l[20]=[h("Negative Review Alerts")])),_:1})]),u(j,{id:"negative-reviews",modelValue:i.value.negative_review_alerts,"onUpdate:modelValue":l[2]||(l[2]=n=>i.value.negative_review_alerts=n),disabled:r.value},null,8,["modelValue","disabled"])]),c("div",Dt,[c("div",Lt,[u(O(Ae),{class:"h-5 w-5 text-purple-500"}),u(V,{"html-for":"response-reminders"},{default:f(()=>l[21]||(l[21]=[h("Response Reminders")])),_:1})]),u(j,{id:"response-reminders",modelValue:i.value.response_reminders,"onUpdate:modelValue":l[3]||(l[3]=n=>i.value.response_reminders=n),disabled:r.value},null,8,["modelValue","disabled"])]),c("div",Ft,[c("div",Nt,[u(O(Ue),{class:"h-5 w-5 text-yellow-500"}),u(V,{"html-for":"positive-reviews"},{default:f(()=>l[22]||(l[22]=[h("Positive Review Alerts")])),_:1})]),u(j,{id:"positive-reviews",modelValue:i.value.positive_review_alerts,"onUpdate:modelValue":l[4]||(l[4]=n=>i.value.positive_review_alerts=n),disabled:r.value},null,8,["modelValue","disabled"])]),c("div",It,[c("div",Rt,[u(O(ze),{class:"h-5 w-5 text-green-500"}),u(V,{"html-for":"review-milestones"},{default:f(()=>l[23]||(l[23]=[h("Review Milestones")])),_:1})]),u(j,{id:"review-milestones",modelValue:i.value.review_milestones,"onUpdate:modelValue":l[5]||(l[5]=n=>i.value.review_milestones=n),disabled:r.value},null,8,["modelValue","disabled"])]),c("div",$t,[c("div",qt,[u(O(Be),{class:"h-5 w-5 text-indigo-500"}),u(V,{"html-for":"trend-alerts"},{default:f(()=>l[24]||(l[24]=[h("Trend Alerts")])),_:1})]),u(j,{id:"trend-alerts",modelValue:i.value.trend_alerts,"onUpdate:modelValue":l[6]||(l[6]=n=>i.value.trend_alerts=n),disabled:r.value},null,8,["modelValue","disabled"])])]),_:1})]),_:1}),u(M,null,{default:f(()=>[u(B,null,{default:f(()=>[c("div",Ct,[c("div",jt,[u(O(Ee),{class:"w-5 h-5 text-gray-500"})]),c("div",null,[u(W,{class:"text-lg font-medium text-gray-700"},{default:f(()=>l[25]||(l[25]=[h("Notification Frequency")])),_:1}),u(Q,{class:"text-base text-gray-500"},{default:f(()=>l[26]||(l[26]=[h("Set how often you'd like to receive notifications.")])),_:1})])])]),_:1}),u(H,{class:"space-y-6 pt-4"},{default:f(()=>[c("div",At,[u(V,{"html-for":"notification-frequency"},{default:f(()=>l[27]||(l[27]=[h("Summary Frequency")])),_:1}),u(pe,{id:"notification-frequency",modelValue:i.value.notification_frequency,"onUpdate:modelValue":l[7]||(l[7]=n=>i.value.notification_frequency=n),options:[{value:"daily",label:"Daily Summary"},{value:"weekly",label:"Weekly Summary"}],placeholder:"Select frequency",disabled:r.value},null,8,["modelValue","disabled"])])]),_:1})]),_:1}),u(M,null,{default:f(()=>[u(B,null,{default:f(()=>[c("div",Ut,[c("div",zt,[u(O(Me),{class:"w-5 h-5 text-gray-500"})]),c("div",null,[u(W,{class:"text-lg font-medium text-gray-700"},{default:f(()=>l[28]||(l[28]=[h("Time Zone and Quiet Hours")])),_:1}),u(Q,{class:"text-base text-gray-500"},{default:f(()=>l[29]||(l[29]=[h("Configure your preferred time zone and set quiet hours.")])),_:1})])])]),_:1}),u(H,{class:"space-y-6 pt-4"},{default:f(()=>[c("div",Et,[u(V,{"html-for":"timezone"},{default:f(()=>l[30]||(l[30]=[h("Time Zone")])),_:1}),u(pe,{id:"timezone",modelValue:i.value.time_zone,"onUpdate:modelValue":l[8]||(l[8]=n=>i.value.time_zone=n),options:a,placeholder:"Select your time zone",disabled:r.value},null,8,["modelValue","disabled"])]),c("div",Mt,[u(V,null,{default:f(()=>l[31]||(l[31]=[h("Quiet Hours")])),_:1}),c("div",Bt,[c("div",Ht,[u(V,{"html-for":"quiet-start"},{default:f(()=>l[32]||(l[32]=[h("Start")])),_:1}),u(de,{id:"quiet-start",type:"time",value:i.value.quiet_hours_start||"",onInput:l[9]||(l[9]=n=>i.value.quiet_hours_start=n.target.value||null),disabled:r.value},null,8,["value","disabled"])]),c("div",Wt,[u(V,{"html-for":"quiet-end"},{default:f(()=>l[33]||(l[33]=[h("End")])),_:1}),u(de,{id:"quiet-end",type:"time",value:i.value.quiet_hours_end||"",onInput:l[10]||(l[10]=n=>i.value.quiet_hours_end=n.target.value||null),disabled:r.value},null,8,["value","disabled"])])])])]),_:1})]),_:1}),c("div",Qt,[u(ne,{onClick:g,disabled:s.value||r.value},{default:f(()=>[h(ee(r.value?"Saving...":"Save Preferences"),1)]),_:1},8,["disabled"])])]))])]))}});export{Gt as default};
//# sourceMappingURL=AlertsPreferencesPage-Bdm8HPYd.js.map
