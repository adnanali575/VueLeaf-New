import{d as E,I as L,g as l,c,aW as Y,p as x,aX as w,be as de,q as _,w as n,bf as ce,bg as ue,e,bh as ve,a as o,bi as ye,bj as xe,bk as be,bl as we,aY as V,b6 as he,k as h,b as t,F as k,r as R,t as b,v as H,aG as _e,Q as ke,h as f,P as G,y as Q,n as $,a5 as Ce,a8 as $e,a9 as De,aa as Se,bm as Te,a6 as Ae,o as Pe,b7 as Me,aJ as J,b5 as je,bn as Re,f as q,z as W,x as S,B as te,ac as Fe,C as se,M as oe}from"./main-Dr4KW1PH.js";import{f as Ne}from"./analytics-green-CyXqBq4X.js";import{_ as M,a as T}from"./CardContent.vue_vue_type_script_setup_true_lang-DIvyJq6m.js";import{_ as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-Np9iXpuv.js";import{_ as U}from"./index-7q6mHbY3.js";import{_ as Be,b as Le,a as ae,M as re,T as ne}from"./loading-dialog.vue_vue_type_script_setup_true_lang-Bvuz7ljs.js";import{M as Ee}from"./minus-CD86fmbS.js";import{T as ze}from"./trending-down-rRtibso8.js";import{T as me}from"./trending-up-Eezzwpy6.js";import{T as le}from"./thumbs-up-1TSzXn9n.js";import{E as Ie}from"./external-link-2Fosi5or.js";const Oe=E({__name:"Avatar",props:{class:{}},setup(p){const r=p,m=L(()=>w("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r.class));return(g,d)=>(l(),c("div",{class:x(m.value)},[Y(g.$slots,"default")],2))}}),Ve=E({__name:"AvatarFallback",props:{class:{}},setup(p){const r=p,m=L(()=>w("flex h-full w-full items-center justify-center rounded-full bg-muted",r.class));return(g,d)=>(l(),c("div",{class:x(m.value)},[Y(g.$slots,"default")],2))}}),Ue=E({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(p,{emit:r}){const d=de(p,r);return(i,v)=>(l(),_(e(ve),ce(ue(e(d))),{default:n(()=>[Y(i.$slots,"default")]),_:3},16))}}),Ye=E({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(p,{emit:r}){const m=p,g=r,d=L(()=>{const{class:v,...C}=m;return C}),i=de(d,g);return(v,C)=>(l(),_(e(be),null,{default:n(()=>[o(e(xe),ye({...e(i),...v.$attrs},{class:e(w)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",m.class)}),{default:n(()=>[Y(v.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Ke=E({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(p){const r=p;return(m,g)=>(l(),_(e(we),ce(ue(r)),{default:n(()=>[Y(m.$slots,"default")]),_:3},16))}}),X={async getAnalysis(){console.log("CompetitorService - Fetching analysis data");const p=await V.get("/competitors/analysis/");return console.log("CompetitorService - Raw API response:",p),console.log("CompetitorService - Forum activities data:",p.data.forumActivities),Object.entries(p.data.forumActivities).forEach(([r,m])=>{console.log(`CompetitorService - ${r} forum activities:`),m.forEach(g=>{console.log("  Forum:",g.name),console.log("  Mentions:",g.mentions),console.log("  Trend:",g.trend),console.log("  Trend %:",g.trendPercentage)})}),p.data},async createCompetitor(p){console.log("CompetitorService - Creating competitor:",p);const{data:r}=await V.post("/competitors/",{term:p}),g=(await V.get("/keywords/")).data.filter(d=>d.term===p);for(const d of g)await V.post(`/keywords/${d.id}/trigger_scrape/`),await new Promise(i=>setTimeout(i,300));return{message:r.message,scrapersRunning:!0,warnings:r.warnings}},async deleteCompetitor(p){console.log("CompetitorService - Deleting competitor:",p);const r=encodeURIComponent(p),{data:m}=await V.delete(`/competitors/delete_term/${r}/`);return m}},ie="vueleaf_competitor_data",qe=9e5,Z=he("competitors",()=>{const p=h([]),r=h([]),m=h([]),g=h([]),d=h({}),i=h(null),v=h(!1),C=h(null),F=h(!1);async function z(){const y=localStorage.getItem(ie);if(y){const{data:A,timestamp:O}=JSON.parse(y);if(Date.now()-O<qe){N(A),Date.now()-O>6e4&&D().catch(console.error);return}}v.value=!0,C.value=null;try{await D()}catch(A){C.value=A instanceof Error?A.message:"Failed to load competitor data",console.error("Error loading competitor data:",A)}finally{v.value=!1}}async function D(){const y=await X.getAnalysis();localStorage.setItem(ie,JSON.stringify({data:y,timestamp:Date.now()})),N(y)}function N(y){p.value=y.competitors,r.value=y.sentimentData,m.value=y.priorityAlerts,g.value=y.recentDiscussions,d.value=y.forumActivities,F.value=y.scrapersRunning,!i.value&&y.competitors.length>0&&(i.value=y.competitors[0].name)}function I(y){i.value=y}return{competitors:p,sentimentData:r,priorityAlerts:m,recentDiscussions:g,forumActivities:d,selectedCompetitor:i,isLoading:v,error:C,scrapersRunning:F,loadCompetitorData:z,fetchFreshData:D,setSelectedCompetitor:I}}),Ge={class:"mb-4"},Je={class:"flex flex-wrap gap-2 border-b border-gray-200 pb-2"},We=["onClick"],He=E({__name:"CompetitorTabs",props:{competitors:{}},setup(p){const r=Z(),m=L(()=>r.selectedCompetitor),g=d=>{r.setSelectedCompetitor(d)};return(d,i)=>(l(),c("div",Ge,[t("div",Je,[(l(!0),c(k,null,R(d.competitors,v=>(l(),c("button",{key:v.name,onClick:C=>g(v.name),class:x(["px-4 py-2 text-sm font-medium rounded-lg",m.value===v.name?"bg-green-50 text-green-700 border-b-2 border-green-500":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"])},b(v.name),11,We))),128))])]))}}),Qe={class:"flex items-center justify-between p-2"},Xe={class:"flex items-center space-x-2"},Ze={class:"bg-green-100 p-1.5 rounded-full"},et={class:"flex-1 px-4"},tt={class:"font-semibold"},st={class:"text-sm text-gray-600"},ot={class:"flex-1 mr-4"},at={class:"relative w-full h-1.5 bg-gray-200 rounded-full overflow-hidden"},rt={class:"text-right text-xs text-gray-600 mt-0.5"},nt={class:"flex items-center"},lt=E({__name:"ForumMetricRow",props:{forum:{}},setup(p){console.log("ForumMetricRow - Received forum data:",p.forum);const m=i=>{switch(console.log("ForumMetricRow - Getting trend icon for:",i),i){case"up":return me;case"down":return ze;default:return Ee}},g=i=>{switch(console.log("ForumMetricRow - Getting trend class for:",i),i){case"up":return"!bg-gradient-to-r !from-emerald-500/10 !to-emerald-500/5 !text-emerald-700 hover:!from-emerald-500/20 hover:!to-emerald-500/15 transition-colors duration-300";case"down":return"!bg-gradient-to-r !from-rose-500/10 !to-rose-500/5 !text-rose-700 hover:!from-rose-500/20 hover:!to-rose-500/15 transition-colors duration-300";default:return"!bg-gradient-to-r !from-amber-500/10 !to-amber-500/5 !text-amber-700 hover:!from-amber-500/20 hover:!to-amber-500/15 transition-colors duration-300"}},d=(i,v)=>{if(console.log("ForumMetricRow - Formatting trend percentage:",{trend:i,percentage:v}),i==="neutral"||Math.abs(v)<.01)return console.log("ForumMetricRow - Returning 0% for neutral/negligible trend"),"0%";const C=Math.round(v*100)/100,F=`${C>0?"+":""}${C}%`;return console.log("ForumMetricRow - Formatted trend value:",F),F};return(i,v)=>(l(),c("div",Qe,[t("div",Xe,[t("div",Ze,[(l(),_(H(i.forum.icon||e(_e)),{class:"h-5 w-5 text-green-600"}))]),t("div",et,[t("div",tt,b(i.forum.name),1),t("div",st,b(i.forum.mentions.toLocaleString())+" mentions ",1)])]),t("div",ot,[t("div",at,[t("div",{class:"absolute left-0 top-0 h-full bg-green-600 transition-all duration-200 ease-in-out",style:ke({width:`${i.forum.percentage}%`})},null,4)]),t("p",rt,b(i.forum.percentage)+"% of total",1)]),t("div",nt,[o(e(U),{variant:"outline",class:x(e(w)("!border-0 !bg-transparent inline-flex items-center rounded-md px-2 py-1",g(i.forum.trend)))},{default:n(()=>[(l(),_(H(m(i.forum.trend)),{class:"h-3 w-3 mr-1 inline"})),f(" "+b(d(i.forum.trend,i.forum.trendPercentage)),1)]),_:1},8,["class"])])]))}}),it={key:0,class:"flex items-center justify-center p-8"},dt={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4"},ct={class:"flex items-center"},ut={class:"text-red-700"},mt={class:"mb-4"},gt={class:"text-3xl font-bold text-green-700"},pt={class:"space-y-4"},ft={key:3,class:"text-center p-8 text-gray-500"},vt=E({__name:"ForumMetrics",props:{competitors:{}},setup(p){const r=Z(),m=L(()=>{var d;return r.selectedCompetitor&&((d=r.forumActivities)==null?void 0:d[r.selectedCompetitor])||null}),g=L(()=>m.value?m.value.reduce((d,i)=>d+i.mentions,0):0);return(d,i)=>(l(),c("div",null,[o(He,{competitors:d.competitors},null,8,["competitors"]),e(r).isLoading?(l(),c("div",it,[o(e(G),{class:"h-8 w-8 animate-spin text-green-600"})])):e(r).error?(l(),c("div",dt,[t("div",ct,[o(e(Q),{class:"h-5 w-5 text-red-500 mr-2"}),t("p",ut,b(e(r).error),1)]),o(e($),{class:"mt-2",variant:"outline",onClick:i[0]||(i[0]=v=>e(r).loadCompetitorData())},{default:n(()=>i[1]||(i[1]=[f(" Retry ")])),_:1})])):m.value?(l(),c(k,{key:2},[t("div",mt,[t("div",gt,b(g.value.toLocaleString()),1),i[2]||(i[2]=t("p",{class:"text-base text-gray-600"},"Total Mentions",-1))]),t("div",pt,[(l(!0),c(k,null,R(m.value,v=>(l(),_(lt,{key:v.name,forum:v},null,8,["forum"]))),128))])],64)):(l(),c("div",ft," Select a competitor to view forum activity "))]))}}),yt={class:"flex-1 p-6"},xt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6"},bt={class:"mb-8 bg-white rounded-lg shadow-sm p-6"},wt={class:"flex justify-between items-start"},ht={class:"w-48 h-48 flex-shrink-0 relative"},_t=["src"],kt={class:"flex justify-end mb-6"},Ct={class:"space-y-4"},$t={key:0,class:"mt-2 text-sm text-red-600"},Dt={class:"flex justify-end gap-2"},St={key:0,class:"text-center p-12 bg-white rounded-lg shadow-sm"},Tt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},At={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Pt={class:"flex gap-2 mb-4"},Mt={class:"space-y-4"},jt={key:2,class:"bg-red-50 border border-red-200 rounded-lg p-4"},Rt={class:"flex items-center"},Ft={class:"text-red-700"},Nt={class:"flex items-center gap-3"},Bt={class:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100"},Lt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Et={class:"flex items-center space-x-2"},zt={key:0,class:"flex flex-col items-center justify-center py-4"},It={class:"text-2xl font-bold"},Ot={class:"mt-4 flex items-center"},Vt={class:"flex items-center gap-3"},Ut={class:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100"},Yt={key:0,class:"flex flex-col items-center justify-center h-64 p-6 text-center"},Kt={class:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center mb-6"},qt={key:1,class:"h-[400px]"},Gt={class:"flex items-center gap-3"},Jt={class:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100"},Wt={key:0,class:"flex flex-col items-center justify-center h-64 p-6 text-center"},Ht={class:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mb-6"},Qt={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Xt={class:"flex-1"},Zt={class:"text-sm text-gray-600"},es={class:"flex items-center mt-2"},ts={class:"text-xs text-gray-500"},ss={class:"flex items-center gap-3"},os={class:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100"},as={key:0,class:"flex flex-col items-center justify-center h-64 p-6 text-center"},rs={class:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mb-6"},ns={class:"flex items-center gap-3"},ls={class:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100"},is={class:"flex flex-wrap gap-2 mb-4"},ds={class:"flex flex-wrap gap-2 mb-4"},cs={key:0,class:"flex flex-col items-center justify-center h-64 p-6 text-center"},us={class:"w-16 h-16 bg-cyan-50 rounded-full flex items-center justify-center mb-6"},ms={key:1,class:"space-y-4"},gs={class:"flex items-center justify-between mb-2"},ps={class:"flex items-center space-x-2"},fs={class:"text-xs text-gray-500"},vs={class:"text-sm text-gray-600 mb-2"},ys={class:"flex justify-end"},As=E({__name:"Competitors",setup(p){Ce([$e,De,Se,Te,Ae]);const r=Z(),m=h(null),g=h(""),d=h(null),i=L(()=>r.competitors.filter(u=>!u.isMain).map(u=>({id:u.name.toLowerCase().replace(/[^a-z0-9]/g,""),label:u.name}))),v=()=>{!m.value&&r.scrapersRunning&&(m.value=window.setInterval(()=>{r.loadCompetitorData()},1e4))},C=()=>{m.value&&(window.clearInterval(m.value),m.value=null)},F=L(()=>g.value?r.recentDiscussions.filter(u=>{const s=u.competitor.toLowerCase().replace(/[^a-z0-9]/g,"")===g.value,a=!d.value||u.sentiment===d.value;return s&&a}):[]),z=h(!1),D=h(""),N=h(!1),I=h(null),y=h(!1),A=h(null),O=async()=>{if(!D.value.trim()){I.value="Please enter a competitor name";return}try{N.value=!0,I.value=null,y.value=!0;const u=D.value.trim(),s=await X.createCompetitor(u);if(await r.loadCompetitorData(),s.scrapersRunning){v(),y.value=!0;const a=D.value.trim(),B=async()=>{await r.loadCompetitorData();const K=r.competitors.find(fe=>fe.name===a);K!=null&&K.mentions?(y.value=!1,z.value=!1,D.value=""):setTimeout(B,5e3)};z.value=!1,D.value="",B()}else y.value=!1}catch(u){I.value=u instanceof Error?u.message:"Failed to add competitor. Please try again.",console.error("Error adding competitor:",u),y.value=!1}finally{N.value=!1}},ee=async u=>{if(confirm(`Are you sure you want to delete "${u}" from your competitors? This action cannot be undone.`))try{A.value=u,await X.deleteCompetitor(u),await r.loadCompetitorData()}catch(s){r.error=s instanceof Error?s.message:"Failed to delete competitor. Please try again.",console.error("Error deleting competitor:",s)}finally{A.value=null}};Pe(()=>{r.loadCompetitorData().then(()=>{const u=r.competitors.find(s=>!s.isMain);u&&(g.value=u.name.toLowerCase().replace(/[^a-z0-9]/g,"")),r.scrapersRunning&&v()})}),Me(()=>{C()});const P=u=>{const s=r.competitors.find(a=>a.name===u);return s?s.color:"gray"},ge=u=>{switch(u){case"positive":return le;case"negative":return ne;default:return re}},pe=L(()=>({grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:r.sentimentData.map(u=>u.name)},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["Positive","Neutral","Negative"]},series:[{name:"Positive",type:"bar",stack:"total",data:r.sentimentData.map(u=>u.positive),itemStyle:{color:"#86efac"}},{name:"Neutral",type:"bar",stack:"total",data:r.sentimentData.map(u=>u.neutral),itemStyle:{color:"#fde68a"}},{name:"Negative",type:"bar",stack:"total",data:r.sentimentData.map(u=>u.negative),itemStyle:{color:"#fca5a5"}}]}));return(u,s)=>(l(),c(k,null,[t("div",yt,[t("div",xt,[t("div",bt,[t("div",wt,[s[8]||(s[8]=t("div",{class:"flex-1"},[t("h1",{class:"text-2xl md:text-3xl font-bold text-green-800 mb-2"}," Competitor Monitoring "),t("p",{class:"text-gray-600 text-lg"}," Keep your finger on the pulse of the market. Track how your competitors are performing across the growing community and understand where your brand stands. We analyze discussions, sentiment, and trends across all major growing platforms to give you real-time insights into market dynamics. ")],-1)),t("div",ht,[t("img",{src:e(Ne),alt:"Competitor Monitoring illustration",class:"w-full h-full object-contain"},null,8,_t)])])]),t("div",kt,[o(e(Ue),{open:z.value,"onUpdate:open":s[2]||(s[2]=a=>z.value=a)},{default:n(()=>[o(e(Ke),null,{default:n(()=>[o(e($),{class:"bg-green-600 hover:bg-green-700 text-white"},{default:n(()=>[o(e(J),{class:"h-4 w-4 mr-2"}),s[9]||(s[9]=f(" Add Competitor "))]),_:1})]),_:1}),o(e(Ye),{class:"w-80"},{default:n(()=>[t("div",Ct,[s[12]||(s[12]=t("h3",{class:"font-semibold"},"Add New Competitor",-1)),t("div",null,[o(e(je),{modelValue:D.value,"onUpdate:modelValue":s[0]||(s[0]=a=>D.value=a),placeholder:"Enter competitor name",disabled:N.value,onKeyup:Re(O,["enter"])},null,8,["modelValue","disabled"]),I.value?(l(),c("p",$t,b(I.value),1)):q("",!0)]),t("div",Dt,[o(e($),{variant:"outline",onClick:s[1]||(s[1]=a=>z.value=!1),disabled:N.value},{default:n(()=>s[10]||(s[10]=[f(" Cancel ")])),_:1},8,["disabled"]),o(e($),{onClick:O,disabled:N.value,class:"bg-green-600 hover:bg-green-700 text-white"},{default:n(()=>[N.value?(l(),_(e(G),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):(l(),_(e(J),{key:1,class:"h-4 w-4 mr-2"})),s[11]||(s[11]=f(" Add "))]),_:1},8,["disabled"])])])]),_:1})]),_:1},8,["open"])]),!e(r).competitors.length&&!e(r).isLoading?(l(),c("div",St,[o(e(W),{class:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s[14]||(s[14]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No competitors added yet",-1)),s[15]||(s[15]=t("p",{class:"text-gray-500 mb-4"},"Add your first competitor to start monitoring their presence across growing communities.",-1)),o(e($),{class:"bg-green-600 hover:bg-green-700 text-white",onClick:s[3]||(s[3]=a=>z.value=!0)},{default:n(()=>[o(e(J),{class:"h-4 w-4 mr-2"}),s[13]||(s[13]=f(" Add Your First Competitor "))]),_:1})])):e(r).isLoading?(l(),c(k,{key:1},[o(e(S),null,{default:n(()=>[o(e(M),{class:"bg-gray-50"},{default:n(()=>[o(e(j),{class:"text-green-800"},{default:n(()=>s[16]||(s[16]=[f("Competitor Overview")])),_:1})]),_:1}),o(e(T),{class:"pt-6"},{default:n(()=>[t("div",Tt,[(l(),c(k,null,R(4,a=>t("div",{key:a,class:"bg-gray-50 border border-gray-200 rounded-lg p-4"},s[17]||(s[17]=[t("div",{class:"flex items-center justify-between mb-2"},[t("div",{class:"h-5 bg-gray-200 rounded animate-pulse w-32"}),t("div",{class:"h-4 w-4 bg-gray-200 rounded animate-pulse"})],-1),t("div",{class:"space-y-2"},[t("div",{class:"h-8 bg-gray-200 rounded animate-pulse w-20"}),t("div",{class:"h-4 bg-gray-200 rounded animate-pulse w-24"}),t("div",{class:"h-4 bg-gray-200 rounded animate-pulse w-32"})],-1)]))),64))])]),_:1})]),_:1}),o(e(S),{class:"mt-6"},{default:n(()=>[o(e(M),{class:"bg-gray-50"},{default:n(()=>[o(e(j),{class:"text-green-800"},{default:n(()=>s[18]||(s[18]=[f("Priority Alerts")])),_:1})]),_:1}),o(e(T),{class:"pt-6"},{default:n(()=>[t("div",At,[(l(),c(k,null,R(3,a=>t("div",{key:a,class:"bg-gray-50 border border-gray-200 rounded-lg p-4"},s[19]||(s[19]=[t("div",{class:"flex items-start space-x-4"},[t("div",{class:"h-5 w-5 bg-gray-200 rounded animate-pulse"}),t("div",{class:"flex-1 space-y-2"},[t("div",{class:"h-5 bg-gray-200 rounded animate-pulse w-32"}),t("div",{class:"h-4 bg-gray-200 rounded animate-pulse w-full"}),t("div",{class:"h-4 bg-gray-200 rounded animate-pulse w-3/4"}),t("div",{class:"flex items-center gap-2"},[t("div",{class:"h-5 bg-gray-200 rounded animate-pulse w-16"}),t("div",{class:"h-4 bg-gray-200 rounded animate-pulse w-24"})])])],-1)]))),64))])]),_:1})]),_:1}),o(e(S),{class:"mt-6"},{default:n(()=>[o(e(M),{class:"bg-gray-50"},{default:n(()=>[o(e(j),{class:"text-green-800"},{default:n(()=>s[20]||(s[20]=[f("Sentiment Comparison")])),_:1})]),_:1}),o(e(T),{class:"pt-6"},{default:n(()=>s[21]||(s[21]=[t("div",{class:"h-[400px] bg-gray-50 rounded-lg border border-gray-200 animate-pulse"},null,-1)])),_:1})]),_:1}),o(e(S),{class:"mt-6"},{default:n(()=>[o(e(M),{class:"bg-gray-50"},{default:n(()=>[o(e(j),{class:"text-green-800"},{default:n(()=>s[22]||(s[22]=[f("Recent Discussions")])),_:1})]),_:1}),o(e(T),{class:"pt-6"},{default:n(()=>[t("div",Pt,[(l(),c(k,null,R(3,a=>t("div",{key:a,class:"h-9 bg-gray-200 rounded animate-pulse w-24"})),64))]),t("div",Mt,[(l(),c(k,null,R(3,a=>t("div",{key:a,class:"bg-gray-50 border border-gray-200 rounded-lg p-4"},s[23]||(s[23]=[t("div",{class:"flex items-center justify-between mb-4"},[t("div",{class:"flex items-center gap-3"},[t("div",{class:"h-10 w-10 bg-gray-200 rounded-full animate-pulse"}),t("div",{class:"space-y-2"},[t("div",{class:"h-5 bg-gray-200 rounded animate-pulse w-32"}),t("div",{class:"h-4 bg-gray-200 rounded animate-pulse w-24"})])]),t("div",{class:"h-6 bg-gray-200 rounded animate-pulse w-20"})],-1),t("div",{class:"space-y-2"},[t("div",{class:"h-4 bg-gray-200 rounded animate-pulse w-full"}),t("div",{class:"h-4 bg-gray-200 rounded animate-pulse w-3/4"})],-1)]))),64))])]),_:1})]),_:1})],64)):e(r).error?(l(),c("div",jt,[t("div",Rt,[o(e(Q),{class:"h-5 w-5 text-red-500 mr-2"}),t("p",Ft,b(e(r).error),1)]),o(e($),{class:"mt-2",variant:"outline",onClick:e(r).loadCompetitorData},{default:n(()=>s[24]||(s[24]=[f(" Retry ")])),_:1},8,["onClick"])])):(l(),c(k,{key:3},[o(e(S),null,{default:n(()=>[o(e(M),null,{default:n(()=>[t("div",Nt,[t("div",Bt,[o(e(W),{class:"w-5 h-5 text-gray-500"})]),t("div",null,[o(e(j),{class:"text-lg font-medium text-gray-700"},{default:n(()=>s[25]||(s[25]=[f("Competitor Overview")])),_:1}),s[26]||(s[26]=t("p",{class:"text-base text-gray-500"},"Track and analyze competitor performance",-1))])])]),_:1}),o(e(T),{class:"pt-6"},{default:n(()=>[t("div",Lt,[(l(!0),c(k,null,R(e(r).competitors,(a,B)=>(l(),_(e(S),{key:B,class:x(e(w)(`bg-${a.color}-50 border-${a.color}-200`))},{default:n(()=>[o(e(M),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:n(()=>[o(e(j),{class:"text-sm font-medium"},{default:n(()=>[f(b(a.name)+" ",1),a.isMain?(l(),_(e(U),{key:0,class:x(e(w)(`ml-2 bg-${a.color}-100 text-${a.color}-800`))},{default:n(()=>s[27]||(s[27]=[f(" Main ")])),_:2},1032,["class"])):q("",!0),a.name==="Your Brand"?(l(),_(e(U),{key:1,class:"ml-2 bg-green-100 text-green-800"},{default:n(()=>s[28]||(s[28]=[f(" Primary ")])),_:1})):q("",!0)]),_:2},1024),t("div",Et,[o(e($),{variant:"ghost",size:"sm",class:"text-red-600 hover:text-red-800 hover:bg-red-100",onClick:K=>ee(a.name),disabled:A.value===a.name||a.updating},{default:n(()=>[A.value===a.name?(l(),_(e(G),{key:0,class:"h-4 w-4 animate-spin"})):(l(),_(e(Le),{key:1,class:"h-4 w-4"}))]),_:2},1032,["onClick","disabled"]),o(e(W),{class:x(e(w)(`h-4 w-4 text-${a.color}-500`))},null,8,["class"])])]),_:2},1024),o(e(T),null,{default:n(()=>[a.updating?(l(),c("div",zt,[o(e(G),{class:"h-8 w-8 animate-spin text-green-600 mb-2"}),s[29]||(s[29]=t("p",{class:"text-sm text-gray-600"},"Collecting data...",-1))])):(l(),c(k,{key:1},[t("div",It,b(a.mentions.toLocaleString()),1),s[30]||(s[30]=t("p",{class:"text-xs text-muted-foreground"}," Total Mentions ",-1)),t("div",Ot,[o(e(me),{class:x(e(w)(`h-4 w-4 text-${a.color}-500 mr-2`))},null,8,["class"]),t("span",{class:x(e(w)(`text-sm font-medium text-${a.color}-600`))},b(a.sentiment)+"% Positive Sentiment ",3)])],64))]),_:2},1024)]),_:2},1032,["class"]))),128))]),s[31]||(s[31]=t("div",{class:"mt-6 p-4 bg-gray-100 border border-gray-200 rounded-lg"},[t("p",{class:"text-sm text-gray-700 font-medium"}," Monitor how your brand and competitors perform across growing communities. Each card shows total mentions and overall sentiment trends, helping you track relative market presence and community perception. This snapshot gives you quick insights into how your brand stands against key players in the market. ")],-1))]),_:1})]),_:1}),o(e(S),null,{default:n(()=>[o(e(M),null,{default:n(()=>[t("div",Vt,[t("div",Ut,[o(e(te),{class:"w-5 h-5 text-gray-500"})]),t("div",null,[o(e(j),{class:"text-lg font-medium text-gray-700"},{default:n(()=>s[32]||(s[32]=[f("Sentiment Comparison")])),_:1}),s[33]||(s[33]=t("p",{class:"text-base text-gray-500"},"Compare sentiment across competitors",-1))])])]),_:1}),o(e(T),{class:"pt-6"},{default:n(()=>[!e(r).isLoading&&!e(r).error&&(!e(r).sentimentData.length||e(r).sentimentData.every(a=>!a.positive&&!a.neutral&&!a.negative))?(l(),c("div",Yt,[t("div",Kt,[o(e(te),{class:"w-8 h-8 text-teal-400"})]),s[34]||(s[34]=t("h3",{class:"text-lg font-medium text-gray-700 mb-2"}," No Sentiment Data Yet ",-1)),s[35]||(s[35]=t("p",{class:"text-gray-500 text-sm mb-5 max-w-[700px]"}," Track sentiment trends and compare brand performance across different competitor mentions. ",-1))])):(l(),c("div",qt,[o(e(Fe),{option:pe.value,autoresize:""},null,8,["option"])])),s[36]||(s[36]=t("div",{class:"mt-6 p-4 bg-gray-100 border border-gray-200 rounded-lg"},[t("p",{class:"text-sm text-gray-700 font-medium"}," Compare how different brands are perceived in growing community discussions. The bars show the proportion of positive (green), neutral (yellow), and negative (red) mentions for each brand, letting you benchmark your reputation against competitors. This comparison helps identify where your brand stands out and where there might be opportunities to improve relative to other players in the market. ")],-1))]),_:1})]),_:1}),o(e(S),null,{default:n(()=>[o(e(M),null,{default:n(()=>[t("div",Gt,[t("div",Jt,[o(e(se),{class:"w-5 h-5 text-gray-500"})]),t("div",null,[o(e(j),{class:"text-lg font-medium text-gray-700"},{default:n(()=>s[37]||(s[37]=[f("Priority Alerts")])),_:1}),s[38]||(s[38]=t("p",{class:"text-base text-gray-500"},"Important updates and notifications",-1))])])]),_:1}),o(e(T),{class:"pt-6"},{default:n(()=>[!e(r).isLoading&&!e(r).error&&!e(r).priorityAlerts.length?(l(),c("div",Wt,[t("div",Ht,[o(e(se),{class:"w-8 h-8 text-red-400"})]),s[39]||(s[39]=t("h3",{class:"text-lg font-medium text-gray-700 mb-2"}," No Priority Alerts ",-1)),s[40]||(s[40]=t("p",{class:"text-gray-500 text-sm mb-5 max-w-[700px]"}," Configure your alert preferences to get notified about important brand mentions and market changes. ",-1))])):(l(),c("div",Qt,[(l(!0),c(k,null,R(e(r).priorityAlerts,(a,B)=>(l(),c("div",{key:B,class:x(e(w)(`p-4 rounded-lg flex items-start space-x-4 bg-${P(a.competitor)}-50 border border-${P(a.competitor)}-200`))},[o(e(Q),{class:x(e(w)(`h-5 w-5 text-${P(a.competitor)}-500`))},null,8,["class"]),t("div",Xt,[t("h3",{class:x(e(w)(`font-semibold text-${P(a.competitor)}-800`))},b(a.competitor),3),t("p",Zt,b(a.description),1),t("div",es,[o(e(U),{class:x(e(w)(`mr-2 ${a.importance==="urgent"?"bg-red-100 text-red-800":a.importance==="important"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`))},{default:n(()=>[f(b(a.importance),1)]),_:2},1032,["class"]),t("span",ts,b(a.time),1)])])],2))),128))])),s[41]||(s[41]=t("div",{class:"mt-6 p-4 bg-gray-100 border border-gray-200 rounded-lg"},[t("p",{class:"text-sm text-gray-700 font-medium"}," Stay ahead of significant market developments. These alerts highlight important changes in competitor activities, from notable sentiment shifts to new product discussions and emerging trends. Real-time notifications ensure you never miss crucial developments that could impact your market position in the growing community. ")],-1))]),_:1})]),_:1}),o(e(S),null,{default:n(()=>[o(e(M),null,{default:n(()=>[t("div",ss,[t("div",os,[o(e(ae),{class:"w-5 h-5 text-gray-500"})]),t("div",null,[o(e(j),{class:"text-lg font-medium text-gray-700"},{default:n(()=>s[42]||(s[42]=[f("Forum Activity")])),_:1}),s[43]||(s[43]=t("p",{class:"text-base text-gray-500"},"Track engagement across platforms",-1))])])]),_:1}),o(e(T),{class:"pt-6"},{default:n(()=>[!e(r).isLoading&&!e(r).error&&!e(r).forumActivities?(l(),c("div",as,[t("div",rs,[o(e(ae),{class:"w-8 h-8 text-indigo-400"})]),s[44]||(s[44]=t("h3",{class:"text-lg font-medium text-gray-700 mb-2"}," No Forum Activity Yet ",-1)),s[45]||(s[45]=t("p",{class:"text-gray-500 text-sm mb-5 max-w-[700px]"}," Monitor brand discussions and engagement metrics across cannabis community forums. ",-1))])):(l(),_(vt,{key:1,competitors:e(r).competitors},null,8,["competitors"])),s[46]||(s[46]=t("div",{class:"mt-4 p-3 bg-gray-100 border border-gray-200 rounded-lg"},[t("p",{class:"text-xs text-gray-700 font-medium"}," Track brand mentions across key cannabis forums. Monitor trends and engagement levels to understand where your audience is most active and how discussions are evolving. This data helps you focus your efforts on the most impactful platforms. ")],-1))]),_:1})]),_:1}),o(e(S),null,{default:n(()=>[o(e(M),null,{default:n(()=>[t("div",ns,[t("div",ls,[o(e(oe),{class:"w-5 h-5 text-gray-500"})]),t("div",null,[o(e(j),{class:"text-lg font-medium text-gray-700"},{default:n(()=>s[47]||(s[47]=[f("Recent Discussions")])),_:1}),s[48]||(s[48]=t("p",{class:"text-base text-gray-500"},"Latest conversations and mentions",-1))])])]),_:1}),o(e(T),{class:"pt-6"},{default:n(()=>[t("div",is,[(l(!0),c(k,null,R(i.value,a=>(l(),_(e($),{key:a.id,variant:g.value===a.id?"default":"outline",class:x(g.value===a.id?"bg-green-600 text-white hover:bg-green-700 px-4 py-2":"hover:bg-gray-100 px-4 py-2"),onClick:B=>g.value=a.id},{default:n(()=>[f(b(a.label),1)]),_:2},1032,["variant","class","onClick"]))),128))]),t("div",ds,[o(e($),{variant:"outline",class:x(e(w)("hover:bg-green-100",d.value==="positive"?"bg-green-100 text-green-800 border-green-600":"text-gray-600")),onClick:s[4]||(s[4]=a=>d.value=d.value==="positive"?null:"positive")},{default:n(()=>[o(e(le),{class:"h-4 w-4 mr-2"}),s[49]||(s[49]=f(" Positive "))]),_:1},8,["class"]),o(e($),{variant:"outline",class:x(e(w)("hover:bg-yellow-100",d.value==="neutral"?"bg-yellow-100 text-yellow-800 border-yellow-600":"text-gray-600")),onClick:s[5]||(s[5]=a=>d.value=d.value==="neutral"?null:"neutral")},{default:n(()=>[o(e(re),{class:"h-4 w-4 mr-2"}),s[50]||(s[50]=f(" Neutral "))]),_:1},8,["class"]),o(e($),{variant:"outline",class:x(e(w)("hover:bg-red-100",d.value==="negative"?"bg-red-100 text-red-800 border-red-600":"text-gray-600")),onClick:s[6]||(s[6]=a=>d.value=d.value==="negative"?null:"negative")},{default:n(()=>[o(e(ne),{class:"h-4 w-4 mr-2"}),s[51]||(s[51]=f(" Negative "))]),_:1},8,["class"])]),!e(r).isLoading&&!e(r).error&&!F.value.length?(l(),c("div",cs,[t("div",us,[o(e(oe),{class:"w-8 h-8 text-cyan-400"})]),s[52]||(s[52]=t("h3",{class:"text-lg font-medium text-gray-700 mb-2"}," No Recent Discussions ",-1)),s[53]||(s[53]=t("p",{class:"text-gray-500 text-sm mb-5 max-w-[700px]"}," Track real-time brand discussions and competitor mentions across the community. ",-1))])):F.value.length>0?(l(),c("div",ms,[(l(!0),c(k,null,R(F.value,(a,B)=>(l(),_(e(S),{key:B,class:x(e(w)(`bg-${P(a.competitor)}-50 border-${P(a.competitor)}-200 overflow-hidden`))},{default:n(()=>[o(e(T),{class:"p-4"},{default:n(()=>[t("div",gs,[t("div",ps,[o(e(Oe),{class:x(e(w)(`bg-${P(a.competitor)}-200`))},{default:n(()=>[o(e(Ve),null,{default:n(()=>[f(b(a.competitor[0]),1)]),_:2},1024)]),_:2},1032,["class"]),t("div",null,[t("h4",{class:x(e(w)(`font-semibold text-${P(a.competitor)}-800`))},b(a.competitor),3),t("p",fs,b(a.forum)+" • "+b(a.time),1)])]),o(e(U),{variant:"outline",class:x(e(w)(a.sentiment==="positive"&&"border-green-500 bg-green-50 text-green-700",a.sentiment==="negative"&&"border-red-500 bg-red-50 text-red-700",a.sentiment==="neutral"&&"border-yellow-500 bg-yellow-50 text-yellow-700"))},{default:n(()=>[(l(),_(H(ge(a.sentiment)),{class:x(e(w)("mr-1 h-4 w-4",a.sentiment==="positive"&&"text-green-700",a.sentiment==="negative"&&"text-red-700",a.sentiment==="neutral"&&"text-yellow-700"))},null,8,["class"])),f(" "+b(a.sentiment),1)]),_:2},1032,["class"])]),t("p",vs,b(a.content),1),t("div",ys,[o(e($),{variant:"ghost",size:"sm",class:x(e(w)(`text-${P(a.competitor)}-600 hover:text-${P(a.competitor)}-800`))},{default:n(()=>[o(e(Ie),{class:"h-4 w-4 mr-1"}),s[54]||(s[54]=f(" View Thread "))]),_:2},1032,["class"])])]),_:2},1024)]),_:2},1032,["class"]))),128))])):q("",!0),s[55]||(s[55]=t("div",{class:"mt-6 p-4 bg-gray-100 border border-gray-200 rounded-lg"},[t("p",{class:"text-sm text-gray-700 font-medium"}," Stay informed with real-time discussions about your brand and competitors. Quickly gauge sentiment and identify emerging topics or concerns in the community. ")],-1))]),_:1})]),_:1})],64))])]),o(Be,{open:y.value,"onUpdate:open":s[7]||(s[7]=a=>y.value=a)},null,8,["open"])],64))}});export{As as default};
//# sourceMappingURL=Competitors-CG6RcbSJ.js.map
